import{j as o}from"./jsx-runtime-Cf8x2fCZ.js";import{R as f,r as $}from"./index-G8LIXM5I.js";import{c as m}from"./clsx-B-dksMZM.js";import{S as H}from"./ChevronDown-DW4Cg-no.js";import{S as J}from"./ChevronRight-CtX5Dnjk.js";import{S as X,a as G}from"./CheckboxUnchecked-CIfxf0rQ.js";import{L as Q}from"./Loader-DsiRlRl8.js";import{T as Y}from"./Typography-C8hU4Ja4.js";const Z=(t,l,a=!1,i=0)=>({onKeyUp:n=>{n.code==="Space"&&t(n),n.code==="Enter"&&(n.preventDefault(),l&&!a?l(n):t(n)),n.code==="ArrowLeft"&&t(n),n.code==="ArrowRight"&&t(n)},disabled:a,tabIndex:i}),j=(t,l,a,i=!1)=>{if(!(!t&&!i))return o.jsx("i",{className:m("flexRow","alignCenter",a),children:t&&o.jsx(t.type,{"aria-label":t.type.name||"moonstone-treeView-icon",...t.props,size:l})})},ee=({data:t,openedItems:l=[],selectedItems:a=[],highlightedItems:i=[],showCheckbox:r=!1,onClickItem:n,onDoubleClickItem:u,onContextMenuItem:g,onOpenItem:h,onCloseItem:d,isReversed:c=!1,component:b="ul",itemComponent:z="li",size:v="default",isPadVirtualizedRow:O=!1,...B},P)=>{const x=t.filter(y=>y.children&&y.children.length>0).length===0;function M(y,p,U){return y.map(e=>{var S;const k=!!(e.hasChildren||e.children&&e.children.length!==0),L=!!e.iconStart,F=!!e.iconEnd,V=e.isClosable!==!1,w=!!l.includes(e.id)||!V,D=!!e.isLoading,E=!!a.includes(e.id),_=!!(i.includes(e.id)&&!E),R=!e.isDisabled&&!e.isReadonly,I=s=>{h&&d&&(w?d(e,s):h(e,s))},N=s=>{n?n(e,s,I):I(s)},W=s=>{u&&u(e,s)},A=s=>{g&&g(e,s)},K=m("flexRow_between","alignCenter","moonstone-treeView_item",{"moonstone-small":v==="small","moonstone-selected":E&&!r,"moonstone-highlighted":_,"moonstone-reversed":c,"moonstone-readonly":e.isReadonly,"moonstone-disabled":e.isDisabled});return[f.createElement(z,{role:"treeitem","aria-selected":E,"aria-expanded":w,"aria-busy":D,"aria-current":_?"page":null,"aria-level":p+1,key:`${p}-${e.id}`,style:{"--treeItem-depth":p,...(S=e==null?void 0:e.treeItemProps)==null?void 0:S.style},onDoubleClick:W,onContextMenu:A,...Z(I,N,!R),...e.treeItemProps},o.jsxs("div",{className:K,children:[V&&k&&o.jsx("div",{className:m("flexRow","alignCenter","moonstone-treeView_itemToggle"),"data-testid":"treeitem-toggle-icon",onClick:I,children:D?o.jsx(Q,{isReversed:c,size:"small"}):w?o.jsx(H,{size:v}):o.jsx(J,{size:v})}),!x&&!k&&o.jsx("div",{className:m("flexRow","alignCenter","moonstone-treeView_itemToggle")}),O&&x&&!V&&o.jsx("div",{className:m("flexRow","alignCenter","moonstone-treeView_itemToggle")}),o.jsxs("div",{className:m("flexRow_nowrap","alignCenter","flexFluid","moonstone-treeView_itemLabel",e.className),onClick:R?N:void 0,children:[r?E?o.jsx(X,{className:"moonstone-treeView_itemIconStart",role:"checkbox",color:"blue","aria-checked":"true"}):o.jsx(G,{className:"moonstone-treeView_itemIconStart",role:"checkbox","aria-checked":"false"}):j(e.iconStart,"small","moonstone-treeView_itemIconStart",U),o.jsx(Y,{isNowrap:!0,className:m("flexFluid"),component:"span",variant:v==="default"?"body":"caption",...e.typographyOptions,children:e.label}),F&&j(e.iconEnd,"small")]})]})),...w&&e.children?M(e.children,V?p+1:p,L):[]]})}return f.createElement(b,{ref:P,role:"tree","aria-multiselectable":r,...B},M(t,0,!1))},C=f.forwardRef(ee);try{C.displayName="ControlledTreeView",C.__docgenInfo={description:"",displayName:"ControlledTreeView",props:{data:{defaultValue:null,description:"Data to generate the tree",name:"data",required:!0,type:{name:"TreeViewData[]"}},selectedItems:{defaultValue:{value:"[]"},description:"Selected items' ids",name:"selectedItems",required:!1,type:{name:"string[]"}},highlightedItems:{defaultValue:{value:"[]"},description:"IDs of the highlighted items",name:"highlightedItems",required:!1,type:{name:"string[]"}},showCheckbox:{defaultValue:{value:"false"},description:"Show checkbox for selected items",name:"showCheckbox",required:!1,type:{name:"boolean"}},onClickItem:{defaultValue:null,description:`Trigger by clicking on node.
In the parameters, access to the current node, event, and a method to toggle the node open/close is given.`,name:"onClickItem",required:!1,type:{name:"(node: TreeViewData, e?: MouseEvent<Element, MouseEvent>, toggleNode?: (e: MouseEvent<Element, MouseEvent>) => void) => void"}},onDoubleClickItem:{defaultValue:null,description:"Trigger by double clicking on node",name:"onDoubleClickItem",required:!1,type:{name:"(node: TreeViewData, e?: MouseEvent<Element, MouseEvent>) => void"}},onContextMenuItem:{defaultValue:null,description:"Trigger by right clicking on node",name:"onContextMenuItem",required:!1,type:{name:"(node: TreeViewData, e?: MouseEvent<Element, MouseEvent>) => void"}},isReversed:{defaultValue:{value:"false"},description:"Whether the component should use reversed colors, it useful with dark background",name:"isReversed",required:!1,type:{name:"boolean"}},component:{defaultValue:{value:"ul"},description:"Component used for the list (ul)",name:"component",required:!1,type:{name:"string"}},itemComponent:{defaultValue:{value:"li"},description:"Component used for every item (li)",name:"itemComponent",required:!1,type:{name:"string"}},size:{defaultValue:{value:"default"},description:"TreeView row sizes",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"default"'}]}},isPadVirtualizedRow:{defaultValue:{value:"false"},description:"When using virtualization row may require padding if they become detached from its parent",name:"isPadVirtualizedRow",required:!1,type:{name:"boolean"}},openedItems:{defaultValue:{value:"[]"},description:"Opened items ids. If set, component is controlled",name:"openedItems",required:!1,type:{name:"string[]"}},onOpenItem:{defaultValue:null,description:"Trigger on opening node",name:"onOpenItem",required:!0,type:{name:"(node: TreeViewData, e?: MouseEvent<Element, MouseEvent>) => void"}},onCloseItem:{defaultValue:null,description:"Trigger on opening node",name:"onCloseItem",required:!0,type:{name:"(node: TreeViewData, e?: MouseEvent<Element, MouseEvent>) => void"}}}}}catch{}const te=({defaultOpenedItems:t=[],onCloseItem:l,onOpenItem:a,...i},r)=>{const[n,u]=$.useState(t),g=d=>{u(c=>[...c,d.id]),typeof a<"u"&&a(d)},h=d=>{u(c=>c.filter(b=>b!==d.id)),typeof l<"u"&&l(d)};return o.jsx(C,{ref:r,openedItems:n,onOpenItem:g,onCloseItem:h,...i})},T=f.forwardRef(te);try{T.displayName="UncontrolledTreeView",T.__docgenInfo={description:"",displayName:"UncontrolledTreeView",props:{data:{defaultValue:null,description:"Data to generate the tree",name:"data",required:!0,type:{name:"TreeViewData[]"}},selectedItems:{defaultValue:null,description:"Selected items' ids",name:"selectedItems",required:!1,type:{name:"string[]"}},highlightedItems:{defaultValue:null,description:"IDs of the highlighted items",name:"highlightedItems",required:!1,type:{name:"string[]"}},showCheckbox:{defaultValue:null,description:"Show checkbox for selected items",name:"showCheckbox",required:!1,type:{name:"boolean"}},onClickItem:{defaultValue:null,description:`Trigger by clicking on node.
In the parameters, access to the current node, event, and a method to toggle the node open/close is given.`,name:"onClickItem",required:!1,type:{name:"(node: TreeViewData, e?: MouseEvent<Element, MouseEvent>, toggleNode?: (e: MouseEvent<Element, MouseEvent>) => void) => void"}},onDoubleClickItem:{defaultValue:null,description:"Trigger by double clicking on node",name:"onDoubleClickItem",required:!1,type:{name:"(node: TreeViewData, e?: MouseEvent<Element, MouseEvent>) => void"}},onContextMenuItem:{defaultValue:null,description:"Trigger by right clicking on node",name:"onContextMenuItem",required:!1,type:{name:"(node: TreeViewData, e?: MouseEvent<Element, MouseEvent>) => void"}},isReversed:{defaultValue:null,description:"Whether the component should use reversed colors, it useful with dark background",name:"isReversed",required:!1,type:{name:"boolean"}},component:{defaultValue:null,description:"Component used for the list (ul)",name:"component",required:!1,type:{name:"string"}},itemComponent:{defaultValue:null,description:"Component used for every item (li)",name:"itemComponent",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"TreeView row sizes",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"default"'}]}},isPadVirtualizedRow:{defaultValue:null,description:"When using virtualization row may require padding if they become detached from its parent",name:"isPadVirtualizedRow",required:!1,type:{name:"boolean"}},defaultOpenedItems:{defaultValue:{value:"[]"},description:"Opened items ids by default, when uncontrolled",name:"defaultOpenedItems",required:!1,type:{name:"string[]"}},onOpenItem:{defaultValue:null,description:"Trigger on opening node",name:"onOpenItem",required:!1,type:{name:"(node: TreeViewData, e?: MouseEvent<Element, MouseEvent>) => void"}},onCloseItem:{defaultValue:null,description:"Trigger on opening node",name:"onCloseItem",required:!1,type:{name:"(node: TreeViewData, e?: MouseEvent<Element, MouseEvent>) => void"}}}}}catch{}const ne=({openedItems:t,defaultOpenedItems:l,data:a,onOpenItem:i,onCloseItem:r,...n},u)=>!Array.isArray(a)||a.length<1?null:typeof t>"u"?o.jsx(T,{defaultOpenedItems:l,data:a,onOpenItem:i,onCloseItem:r,...n}):o.jsx(C,{ref:u,openedItems:t,data:a,onOpenItem:i,onCloseItem:r,...n}),q=f.forwardRef(ne);q.displayName="TreeView";try{q.displayName="TreeView",q.__docgenInfo={description:"",displayName:"TreeView",props:{data:{defaultValue:null,description:"Data to generate the tree",name:"data",required:!0,type:{name:"TreeViewData[]"}},selectedItems:{defaultValue:null,description:"Selected items' ids",name:"selectedItems",required:!1,type:{name:"string[]"}},highlightedItems:{defaultValue:null,description:"IDs of the highlighted items",name:"highlightedItems",required:!1,type:{name:"string[]"}},showCheckbox:{defaultValue:null,description:"Show checkbox for selected items",name:"showCheckbox",required:!1,type:{name:"boolean"}},onClickItem:{defaultValue:null,description:`Trigger by clicking on node.
In the parameters, access to the current node, event, and a method to toggle the node open/close is given.`,name:"onClickItem",required:!1,type:{name:"(node: TreeViewData, e?: MouseEvent<Element, MouseEvent>, toggleNode?: (e: MouseEvent<Element, MouseEvent>) => void) => void"}},onDoubleClickItem:{defaultValue:null,description:"Trigger by double clicking on node",name:"onDoubleClickItem",required:!1,type:{name:"(node: TreeViewData, e?: MouseEvent<Element, MouseEvent>) => void"}},onContextMenuItem:{defaultValue:null,description:"Trigger by right clicking on node",name:"onContextMenuItem",required:!1,type:{name:"(node: TreeViewData, e?: MouseEvent<Element, MouseEvent>) => void"}},isReversed:{defaultValue:null,description:"Whether the component should use reversed colors, it useful with dark background",name:"isReversed",required:!1,type:{name:"boolean"}},component:{defaultValue:null,description:"Component used for the list (ul)",name:"component",required:!1,type:{name:"string"}},itemComponent:{defaultValue:null,description:"Component used for every item (li)",name:"itemComponent",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"TreeView row sizes",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"default"'}]}},isPadVirtualizedRow:{defaultValue:null,description:"When using virtualization row may require padding if they become detached from its parent",name:"isPadVirtualizedRow",required:!1,type:{name:"boolean"}},openedItems:{defaultValue:null,description:"Opened items ids. If set, component is controlled",name:"openedItems",required:!1,type:{name:"string[]"}},onOpenItem:{defaultValue:null,description:"Trigger on opening node",name:"onOpenItem",required:!1,type:{name:"((node: TreeViewData, e?: MouseEvent<Element, MouseEvent>) => void) & ((node: TreeViewData, e?: MouseEvent<Element, MouseEvent>) => void)"}},onCloseItem:{defaultValue:null,description:"Trigger on opening node",name:"onCloseItem",required:!1,type:{name:"((node: TreeViewData, e?: MouseEvent<Element, MouseEvent>) => void) & ((node: TreeViewData, e?: MouseEvent<Element, MouseEvent>) => void)"}},defaultOpenedItems:{defaultValue:null,description:"Opened items ids by default, when uncontrolled",name:"defaultOpenedItems",required:!1,type:{name:"string[]"}}}}}catch{}export{q as T};

import{R as V,r as y,j as h}from"./iframe-DMfYEvPJ.js";/* empty css                  */import{B as C}from"./BaseInput-iLtu5ifL.js";import"./preload-helper-PPVm8Dsz.js";import"./clsx-B-dksMZM.js";import"./Button-DNUcz26C.js";/* empty css               */import"./Loader-9WsvvaQf.js";import"./Typography-DrJteMUX.js";import"./Cancel-DX2lUZvu.js";const v=({ref:n,step:l,allowNegative:u,separator:t,min:i,max:s})=>({onKeyUp:d=>{const o=n?.current;if(!o||d.key!=="ArrowUp"&&d.key!=="ArrowDown")return;const a=o.value.split(t)[1]||null;let e=parseFloat(a?o.value.replace(t,".").split(".")[0]:o.value);const r=Number.isInteger(l)?l:1;d.key==="ArrowDown"&&(e>0||u)&&(d.preventDefault(),Number.isFinite(i)?e-r>i?e-=r:e=i:e-=r),d.key==="ArrowUp"&&(d.preventDefault(),Number.isFinite(s)?e+r<s?e+=r:e=s:e+=r);const p=a&&a.length>0?`${e}${t}${a}`:e.toString();o.value=Number.isNaN(e)?"":p,o.defaultValue=o.value}});try{v.displayName="onArrowIncrementation",v.__docgenInfo={description:"",displayName:"onArrowIncrementation",props:{onKeyUp:{defaultValue:null,description:"",name:"onKeyUp",required:!1,type:{name:"KeyboardEventHandler<Element>"}},ref:{defaultValue:null,description:"",name:"ref",required:!0,type:{name:"RefObject<HTMLInputElement>"}},step:{defaultValue:null,description:"",name:"step",required:!0,type:{name:"number"}},allowNegative:{defaultValue:null,description:"",name:"allowNegative",required:!0,type:{name:"boolean"}},separator:{defaultValue:null,description:"",name:"separator",required:!1,type:{name:"enum",value:[{value:'"."'},{value:'","'}]}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}}}}}catch{}const b=(n,l,u,t)=>{const i=l?"-?":"",s=u?`((\\${t})\\d+)?`:"",c=new RegExp(`^${i}(0|[1-9]\\d*)${s}$`),d=l&&u?"both":l?"negative":u?"decimal":"default";if(n===""||n==="NaN")return"";const o=a=>{let e;switch(d){case"both":e=a.replace(new RegExp(`[^\\d${t}\\-]`,"g"),"").replace(/(?!^)-/g,"").replace(new RegExp(`\\${t}.*\\${t}`,"g"),r=>r.substring(1));break;case"negative":e=a.replace(/[^\d-]/g,"").replace(/(?!^)-/g,"");break;case"decimal":e=a.replace(new RegExp(`[^\\d${t}]`,"g"),"").replace(new RegExp(`\\${t}.*\\${t}`,"g"),r=>r.substring(1));break;default:e=a.replace(/\D/g,"");break}return e.startsWith(t)&&(e="0"+e),e.startsWith(`-${t}`)&&(e=e.replace(new RegExp(`\\${t}`,"g"),`0${t}`)),e};return!c.test(n)&&n!==""?o(n):n},m=V.forwardRef(({allowNegative:n=!1,allowDecimal:l=!1,separator:u=".",step:t=1,min:i,max:s,onChange:c,...d},o)=>{(s&&s<0||i&&i<0)&&!n&&console.warn("Warning: A min or max prop has been set to a negative but allowNegative is set to false."),s&&i&&s<i&&console.warn("Warning: Maximum value is inferior to minimum value.");const a=y.useRef(null);y.useImperativeHandle(o,()=>a.current,[]),y.useEffect(()=>{const r=a.current?.value;if(a.current){const p=b(r||"",n,l,u);p!==r&&(a.current.value=p,a.current.defaultValue=p)}},[n,l,u]);const e=r=>{const p=b(r.target.value,n,l,u);a.current?.value!==p&&(a.current.value=p),typeof c<"u"&&c(r)};return h.jsx(C,{ref:a,filterFunction:b,inputMode:l?"decimal":"numeric",min:i,max:s,allowDecimal:l,allowNegative:n,separator:u,...d,onChange:e,...v({ref:a,step:t,allowNegative:n,min:i,max:s,separator:u})})});m.displayName="NumberInput";try{m.displayName="NumberInput",m.__docgenInfo={description:"",displayName:"NumberInput",props:{onClear:{defaultValue:null,description:"Function - when passed in, the Cancel icon appears at the end of the input and its click event is passed back when the Cancel icon is clicked",name:"onClear",required:!1,type:{name:"MouseEventHandler<Element>"}},onChange:{defaultValue:null,description:"Function triggered on change of the input value",name:"onChange",required:!1,type:{name:"(event: ChangeEvent<HTMLInputElement>) => void"}},placeholder:{defaultValue:null,description:"Initial placeholder text to appear in the input field",name:"placeholder",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"Whether the size of the input should be default or big",name:"size",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"big"'}]}},icon:{defaultValue:null,description:"Which icon to use at the beginning of the input",name:"icon",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"ghost"'},{value:'"outlined"'}]}},isDisabled:{defaultValue:null,description:"Whether the component should be disabled",name:"isDisabled",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"Additional classname",name:"className",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"Value to exist in the input field. Define the component as controlled when it set. (Controlled)",name:"value",required:!1,type:{name:"string"}},defaultValue:{defaultValue:null,description:"Default value when the component is rendered (Uncontrolled)",name:"defaultValue",required:!1,type:{name:"string"}},isReadOnly:{defaultValue:null,description:"Whether the input should be read-only. It's still submittable.",name:"isReadOnly",required:!1,type:{name:"boolean"}},separator:{defaultValue:{value:"."},description:"Character to use as a separator",name:"separator",required:!1,type:{name:"enum",value:[{value:'"."'},{value:'","'}]}},filterFunction:{defaultValue:null,description:"Function to use to filter the value",name:"filterFunction",required:!1,type:{name:"(...args: unknown[]) => string"}},allowNegative:{defaultValue:{value:"false"},description:"Allows input value to be negative",name:"allowNegative",required:!1,type:{name:"boolean"}},allowDecimal:{defaultValue:{value:"false"},description:"Allows input value to be decimal",name:"allowDecimal",required:!1,type:{name:"boolean"}},focusOnField:{defaultValue:null,description:"Whether the input should be focused when displayed.",name:"focusOnField",required:!1,type:{name:"boolean"}},prefixComponents:{defaultValue:null,description:"Component(s) to render before the input field.",name:"prefixComponents",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>[]"}},postfixComponents:{defaultValue:null,description:"Component(s) to render after the input field.",name:"postfixComponents",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>[]"}}}}}catch{}const{useArgs:E}=__STORYBOOK_MODULE_PREVIEW_API__,F={title:"Components/Input/Numbers",component:m,tags:["new"],decorators:[n=>h.jsx("div",{style:{width:"50vw"},children:h.jsx(n,{})})],parameters:{layout:"centered"}},f={},g={args:{max:10,min:1,value:"5",step:1},render:n=>{const[,l]=E(),u=t=>{n.onChange&&n.onChange(t),l({...n,value:t.target.value})};return h.jsx(m,{onChange:u,...n})}};f.parameters={...f.parameters,docs:{...f.parameters?.docs,source:{originalSource:"{}",...f.parameters?.docs?.source}}};g.parameters={...g.parameters,docs:{...g.parameters?.docs,source:{originalSource:`{
  args: {
    max: 10,
    min: 1,
    value: '5',
    step: 1
  },
  render: args => {
    const [, setArgs] = useArgs();
    const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {
      if (args.onChange) {
        args.onChange(e);
      }
      setArgs({
        ...args,
        value: e.target.value
      });
    };
    return <NumberInput onChange={onChange} {...args} />;
  }
}`,...g.parameters?.docs?.source}}};const O=["UncontrolledNumberInput","ControlledNumberInput"];export{g as ControlledNumberInput,f as UncontrolledNumberInput,O as __namedExportsOrder,F as default};

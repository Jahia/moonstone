import{j as l}from"./jsx-runtime-Cf8x2fCZ.js";import{r as v}from"./index-G8LIXM5I.js";import{c as P}from"./clsx-B-dksMZM.js";import{B as ae}from"./Button-BGc-02P3.js";import{T as ie}from"./Tag-Iis_T_gG.js";import{S as oe}from"./Search-DSeLwkIx.js";import{S as re}from"./ChevronDown-DW4Cg-no.js";import{a as le,M as X,u as se}from"./MenuItem-CXK_2D_j.js";import{S as ue}from"./SearchInput-CMI4jILd.js";import{T as de}from"./TreeView-Cldn3ees.js";import{o as ce}from"./useAccessibleClick-Dg2YirTu.js";import{S as pe}from"./Separator-ChTYNnEP.js";import{S as me,a as he}from"./CheckboxUnchecked-CIfxf0rQ.js";import{T as fe}from"./Typography-D0S_EBmN.js";const B=({isDisplayed:e,anchorPosition:n,minWidth:t,maxWidth:o,maxHeight:r,anchorEl:d,hasSearch:w,autoAddSearchLimit:L,searchEmptyText:x,data:E,value:C,values:b,imageSize:m,handleSelect:M,onClose:V})=>{const S=a=>(b==null?void 0:b.indexOf(a.value))>-1?l.jsx(me,{role:"checkbox",color:"blue"}):l.jsx(he,{role:"checkbox"}),g=a=>l.jsx(X,{iconStart:b?S(a):a.iconStart,iconSize:"default",label:a.label,description:a.description,iconEnd:a.iconEnd,isDisabled:a.isDisabled,isSelected:C===a.value,image:a.image,imageSize:m,...ce(h=>M(h,a),a.isDisabled,"option"),...a.attributes},a.value),D=(a,h,f)=>l.jsxs("div",{"data-option-type":"group",children:[f>0&&l.jsx(pe,{}),l.jsx(X,{variant:"title",label:h}),a.map(A=>g(A))]},`${h}-${f}`);return E.length===0?null:l.jsx(le,{isDisplayed:e,position:"fixed",anchorPosition:n,minWidth:t,maxWidth:o,maxHeight:r,anchorEl:d,hasSearch:w,autoAddSearchLimit:L,searchEmptyText:x,onClose:V,children:E.map((a,h)=>"options"in a&&"groupLabel"in a?(a.options.map(f=>g(f)),D(a.options,a.groupLabel,h)):g(a))})};try{B.displayName="DropdownMenu",B.__docgenInfo={description:"",displayName:"DropdownMenu",props:{style:{defaultValue:null,description:"Additional styles",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"Additional classname",name:"className",required:!1,type:{name:"string"}},onMouseEnter:{defaultValue:null,description:"Function triggered when the mouse pointer hovering the menu",name:"onMouseEnter",required:!1,type:{name:"(event: MouseEvent<HTMLDivElement, MouseEvent>) => void"}},onMouseLeave:{defaultValue:null,description:"Function triggered when the mouse pointer move off the menu",name:"onMouseLeave",required:!1,type:{name:"(event: MouseEvent<HTMLDivElement, MouseEvent>) => void"}},hasSearch:{defaultValue:null,description:`Whether the Menu displays a search input at the top
Autosearch is enabled if undefined
Autosearch is when search input is automatically added in the dropdown when autoAddSearchLimit is reached
@see autoAddSearchLimit`,name:"hasSearch",required:!1,type:{name:"boolean"}},autoAddSearchLimit:{defaultValue:null,description:`Autosearch is triggered when data items exceed this limit
Applies only when autosearch is enabled (i.e. hasSearch is undefined)
Defaults to 7 if undefined or < 0
Autosearch is when search input is automatically added in the dropdown`,name:"autoAddSearchLimit",required:!1,type:{name:"number"}},searchEmptyText:{defaultValue:null,description:"Text to display when the search doesn't show any results",name:"searchEmptyText",required:!1,type:{name:"string"}},maxHeight:{defaultValue:null,description:"Maximum height of the Menu",name:"maxHeight",required:!1,type:{name:"string"}},maxWidth:{defaultValue:null,description:"Maximum width of the Menu",name:"maxWidth",required:!1,type:{name:"string"}},minWidth:{defaultValue:null,description:"Minimum width of the Menu",name:"minWidth",required:!1,type:{name:"string"}},isDisplayed:{defaultValue:null,description:"Menu is display",name:"isDisplayed",required:!0,type:{name:"boolean"}},anchorEl:{defaultValue:null,description:"Reference element to positioning the menu",name:"anchorEl",required:!1,type:{name:"MutableRefObject<HTMLDivElement>"}},anchorPosition:{defaultValue:null,description:"Position of the menu in px relative to anchorEl or the document",name:"anchorPosition",required:!1,type:{name:"AnchorPosition"}},anchorElOrigin:{defaultValue:null,description:"Point on the anchor where the menu's anchorEl will attach to",name:"anchorElOrigin",required:!1,type:{name:"AnchorElOrigin"}},transformElOrigin:{defaultValue:null,description:"This is the point on the menu which will attach to the anchor's origin",name:"transformElOrigin",required:!1,type:{name:"TransformElOrigin"}},position:{defaultValue:null,description:`If 'absolute' is passed in for the position, the component will be positioned as per normal
CSS rules (i.e., positioned against the closest positioned ancestor). Position is 'fixed' by default`,name:"position",required:!1,type:{name:"enum",value:[{value:'"fixed"'},{value:'"absolute"'}]}},onClose:{defaultValue:null,description:"Function triggered when the menu close",name:"onClose",required:!1,type:{name:"(event: MouseEvent<HTMLDivElement, MouseEvent>) => void"}},onEntering:{defaultValue:null,description:"Function triggered when the menu is going to be opened (before open)",name:"onEntering",required:!1,type:{name:"() => void"}},onEntered:{defaultValue:null,description:"Function triggered when the menu has been opened (after open)",name:"onEntered",required:!1,type:{name:"() => void"}},onExiting:{defaultValue:null,description:"Function triggered when the menu is going to be closed (before exit)",name:"onExiting",required:!1,type:{name:"() => void"}},onExited:{defaultValue:null,description:"Function triggered when the menu has been closed (after exit)",name:"onExited",required:!1,type:{name:"() => void"}},hasOverlay:{defaultValue:null,description:"The menu has overlay or not",name:"hasOverlay",required:!1,type:{name:"boolean"}},searchInput:{defaultValue:null,description:"",name:"searchInput",required:!1,type:{name:"string"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"DropdownData"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},values:{defaultValue:null,description:"",name:"values",required:!1,type:{name:"string[]"}},imageSize:{defaultValue:null,description:"",name:"imageSize",required:!1,type:{name:"enum",value:[{value:'"big"'},{value:'"small"'}]}},handleSelect:{defaultValue:null,description:"",name:"handleSelect",required:!0,type:{name:"(e?: MouseEvent<Element, MouseEvent> | KeyboardEvent<Element>, item?: DropdownDataOption) => void"}},handleKeyPress:{defaultValue:null,description:"",name:"handleKeyPress",required:!0,type:{name:"(e?: KeyboardEvent<Element>, item?: DropdownDataOption) => void"}}}}}catch{}function Y(e,n,t){const o=[];return n.forEach(r=>{const d=ye(e,r,t);d&&o.push(d)}),o}const ye=(e,n,t)=>{const o=e(n),r=[];if(n.children){const d=Y(e,n.children,t);d.length>0&&(r.push(...d),t.push(n.id))}if(o||r.length>0)return{...n,treeItemProps:{className:P({"moonstone-disabled":!o})},isDisabled:!o,children:r}},H=(e,n,t)=>{if(e(n))return n;if(n.children){const o=n.children.reduce((r,d)=>r||H(e,d,t),null);return o&&t&&t.push(n.id),o}},ge=e=>{var o;const n=[],t=r=>{n.push(r),r.children&&r.children.forEach(t)};return(o=e==null?void 0:e.forEach)==null||o.call(e,t),n},I=({isDisplayed:e,minWidth:n,maxWidth:t,maxHeight:o,anchorEl:r,anchorPosition:d,anchorElOrigin:w,transformElOrigin:L,position:x,hasOverlay:E,hasSearch:C,autoAddSearchLimit:b,treeData:m,value:M,values:V,handleSelect:S,onClose:g})=>{var N;const[D,a]=se(e,d,r,w,L,x),[h,f]=v.useState(""),[A,p]=v.useState([]),_=u=>{p(c=>[...c,u.id])},z=u=>{p(c=>c.filter(y=>y!==u.id))},T=[],j=[];h!==""&&(m=Y(u=>u.label.toLowerCase().includes(h.toLowerCase()),m,T)),M&&m.forEach(u=>{const c=H(y=>y.value===M,u,T);c&&j.push(c.id)}),V&&V.forEach(u=>{m.forEach(c=>{const y=H(R=>R.value===u,c,T);y&&j.push(y.id)})});const O={position:x,...D};n&&(O.minWidth=n),t&&(O.maxWidth=t),o&&(O.maxHeight=o);let q=C;return typeof C>"u"&&(q=((N=ge(m))==null?void 0:N.length)>b),l.jsxs(l.Fragment,{children:[l.jsxs("menu",{ref:a,className:"moonstone-menu",style:O,children:[q&&l.jsx("div",{className:"moonstone-menu_searchInput",children:l.jsx(ue,{value:h,onChange:u=>f(u.target.value),onKeyPress:u=>{if(u.key==="Enter"&&m.length>0){const c=H(y=>!y.isDisabled,m[0]);c&&S(u,c)}},onClear:()=>f("")})}),l.jsx(de,{data:m,selectedItems:j,size:"small",showCheckbox:!!V,openedItems:[...A,...T],onOpenItem:_,onCloseItem:z,onClickItem:(u,c)=>{S(c,u)}})]}),E&&e&&l.jsx("div",{"aria-hidden":"true",className:"moonstone-menu_overlay",onClick:g,onContextMenu:g})]})};I.defaultProps={hasOverlay:!0,autoAddSearchLimit:7,searchEmptyText:"No results found.",position:"fixed",anchorEl:null,anchorPosition:{top:0,left:0},anchorElOrigin:{vertical:"bottom",horizontal:"left"},transformElOrigin:{vertical:"top",horizontal:"left"}};I.displayName="TreeViewMenu";try{I.displayName="TreeViewMenu",I.__docgenInfo={description:"",displayName:"TreeViewMenu",props:{style:{defaultValue:null,description:"Additional styles",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"Additional classname",name:"className",required:!1,type:{name:"string"}},onMouseEnter:{defaultValue:null,description:"Function triggered when the mouse pointer hovering the menu",name:"onMouseEnter",required:!1,type:{name:"(event: MouseEvent<HTMLDivElement, MouseEvent>) => void"}},onMouseLeave:{defaultValue:null,description:"Function triggered when the mouse pointer move off the menu",name:"onMouseLeave",required:!1,type:{name:"(event: MouseEvent<HTMLDivElement, MouseEvent>) => void"}},hasSearch:{defaultValue:null,description:`Whether the Menu displays a search input at the top
Autosearch is enabled if undefined
Autosearch is when search input is automatically added in the dropdown when autoAddSearchLimit is reached
@see autoAddSearchLimit`,name:"hasSearch",required:!1,type:{name:"boolean"}},autoAddSearchLimit:{defaultValue:{value:"7"},description:`Autosearch is triggered when data items exceed this limit
Applies only when autosearch is enabled (i.e. hasSearch is undefined)
Defaults to 7 if undefined or < 0
Autosearch is when search input is automatically added in the dropdown`,name:"autoAddSearchLimit",required:!1,type:{name:"number"}},searchEmptyText:{defaultValue:{value:"No results found."},description:"Text to display when the search doesn't show any results",name:"searchEmptyText",required:!1,type:{name:"string"}},maxHeight:{defaultValue:null,description:"Maximum height of the Menu",name:"maxHeight",required:!1,type:{name:"string"}},maxWidth:{defaultValue:null,description:"Maximum width of the Menu",name:"maxWidth",required:!1,type:{name:"string"}},minWidth:{defaultValue:null,description:"Minimum width of the Menu",name:"minWidth",required:!1,type:{name:"string"}},isDisplayed:{defaultValue:null,description:"Menu is display",name:"isDisplayed",required:!0,type:{name:"boolean"}},anchorEl:{defaultValue:{value:"null"},description:"Reference element to positioning the menu",name:"anchorEl",required:!1,type:{name:"MutableRefObject<HTMLDivElement>"}},anchorPosition:{defaultValue:{value:`{
        top: 0,
        left: 0
    }`},description:"Position of the menu in px relative to anchorEl or the document",name:"anchorPosition",required:!1,type:{name:"AnchorPosition"}},anchorElOrigin:{defaultValue:{value:`{
        vertical: 'bottom',
        horizontal: 'left'
    }`},description:"Point on the anchor where the menu's anchorEl will attach to",name:"anchorElOrigin",required:!1,type:{name:"AnchorElOrigin"}},transformElOrigin:{defaultValue:{value:`{
        vertical: 'top',
        horizontal: 'left'
    }`},description:"This is the point on the menu which will attach to the anchor's origin",name:"transformElOrigin",required:!1,type:{name:"TransformElOrigin"}},position:{defaultValue:{value:"fixed"},description:`If 'absolute' is passed in for the position, the component will be positioned as per normal
CSS rules (i.e., positioned against the closest positioned ancestor). Position is 'fixed' by default`,name:"position",required:!1,type:{name:"enum",value:[{value:'"fixed"'},{value:'"absolute"'}]}},onClose:{defaultValue:null,description:"Function triggered when the menu close",name:"onClose",required:!1,type:{name:"(event: MouseEvent<HTMLDivElement, MouseEvent>) => void"}},onEntering:{defaultValue:null,description:"Function triggered when the menu is going to be opened (before open)",name:"onEntering",required:!1,type:{name:"() => void"}},onEntered:{defaultValue:null,description:"Function triggered when the menu has been opened (after open)",name:"onEntered",required:!1,type:{name:"() => void"}},onExiting:{defaultValue:null,description:"Function triggered when the menu is going to be closed (before exit)",name:"onExiting",required:!1,type:{name:"() => void"}},onExited:{defaultValue:null,description:"Function triggered when the menu has been closed (after exit)",name:"onExited",required:!1,type:{name:"() => void"}},hasOverlay:{defaultValue:{value:"true"},description:"The menu has overlay or not",name:"hasOverlay",required:!1,type:{name:"boolean"}},treeData:{defaultValue:null,description:"Data to generate the tree",name:"treeData",required:!0,type:{name:"TreeViewData[]"}},searchInput:{defaultValue:null,description:"",name:"searchInput",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},values:{defaultValue:null,description:"",name:"values",required:!1,type:{name:"string[]"}},imageSize:{defaultValue:null,description:"",name:"imageSize",required:!1,type:{name:"enum",value:[{value:'"big"'},{value:'"small"'}]}},handleSelect:{defaultValue:null,description:"",name:"handleSelect",required:!0,type:{name:"(e?: MouseEvent<Element, MouseEvent> | KeyboardEvent<Element>, item?: DropdownDataOption) => void"}},handleKeyPress:{defaultValue:null,description:"",name:"handleKeyPress",required:!1,type:{name:"(e?: KeyboardEvent<Element>, item?: DropdownDataOption) => void"}}}}}catch{}const ve=e=>{var o;const n=[],t=r=>{n.push(r),r.children&&r.children.forEach(t)};return(o=e==null?void 0:e.forEach)==null||o.call(e,t),n},we=e=>Array.isArray(e)?e.every(n=>"options"in n&&"groupLabel"in n):!1,Q=(e,n)=>we(e)?e.reduce((t,o)=>t.concat(o.options),[]).find(t=>t.value===n):e.find(t=>t.value===n),$=({data:e,treeData:n,label:t,placeholder:o,value:r,values:d,isDisabled:w,variant:L="ghost",size:x="medium",icon:E,hasSearch:C,autoAddSearchLimit:b=7,searchEmptyText:m="No results found.",imageSize:M,onClear:V,onChange:S,onBlur:g,onFocus:D,className:a,...h})=>{var U;const[f,A]=v.useState(!1),[p,_]=v.useState({focused:!1,event:null,lastSent:!1}),[z,T]=v.useState(null),[j,O]=v.useState(null),q=v.useRef(),N=Array.isArray(n),u=v.useMemo(()=>N?ve(n):e,[n,e,N]),c=u.length===0;if(v.useEffect(()=>{p.focused&&p.event&&!p.lastSent&&D&&(D(p.event),_(i=>({...i,lastSent:!0})))},[D,p]),v.useEffect(()=>{!p.focused&&!f&&p.event&&p.lastSent&&g&&(g(p.event),_(i=>({...i,lastSent:!1})))},[g,f,p]),!Array.isArray(u))return null;const y=80,R={top:4,left:0};let F,k;switch(M){case"big":F="400px",k="440px";break;case"small":F="264px",k="320px";break;default:F="250px",k="270px"}const G=i=>{i.stopPropagation();const s=i.currentTarget.offsetWidth;O(`${s<y?y:s}px`),T(i.currentTarget),A(!0)},K=(i,s)=>{if(s)if(d)s.isDisabled||(i.stopPropagation(),S(i,s));else{let W=!s.isDisabled;!s.isDisabled&&s.value!==r&&(i.stopPropagation(),W=S(i,s)),W!==!1&&A(!1)}},Z=()=>{A(!1),T(null)},ee=(i,s)=>{i.key==="Enter"&&K(i,s)},J=r||(d==null?void 0:d.length)>0,ne=P(!t&&!E?"flexRow_reverse":"flexRow_between","alignCenter","moonstone-dropdown",`moonstone-${x}`,`moonstone-dropdown_${L}`,{"moonstone-disabled":typeof w>"u"&&c?!0:w,"moonstone-filled":J,"moonstone-opened":f}),te=N?I:B;return l.jsxs("div",{className:P("moonstone-dropdown_container",a),...h,children:[l.jsxs("div",{ref:q,role:"dropdown",className:P(ne),tabIndex:0,onClick:!w&&G,onKeyPress:i=>{i.key==="Enter"&&!w&&G(i)},onBlur:i=>{_(s=>({...s,focused:!1,event:i}))},onFocus:i=>{_(s=>({...s,focused:!0,event:i}))},children:[E&&l.jsx(E.type,{...E.props,size:"default",className:P("moonstone-dropdown_icon")}),!t&&d&&d.length>0?l.jsx("div",{className:"moonstone-dropdown_tags flexFluid flexRow",children:d.map(i=>{const s=Q(u,i);return s&&l.jsx(ie,{label:s.label,value:s.value,size:x,onClick:W=>{q.current.focus(),q.current.blur(),K(W,s)}},s.value)})}):l.jsx(fe,{isNowrap:!0,variant:x==="small"?"caption":"body",component:"span",className:P("flexFluid","moonstone-dropdown_label"),title:t,children:t||((U=Q(u,r))==null?void 0:U.label)||o}),V&&J&&!w&&l.jsx(ae,{className:"moonstone-baseInput_clearButton flexRow_center alignCenter",variant:"ghost",icon:l.jsx(oe,{}),"aria-label":"Reset",onClick:i=>{i.stopPropagation(),q.current.focus(),q.current.blur(),V(i)}}),l.jsx(re,{className:"moonstone-dropdown_chevronDown"})]}),f&&l.jsx(te,{isDisplayed:!0,data:e,treeData:n,value:r,values:d,anchorPosition:R,minWidth:j,maxWidth:F,maxHeight:k,anchorEl:z,hasSearch:C,autoAddSearchLimit:b,searchEmptyText:m,handleKeyPress:ee,handleSelect:K,imageSize:M,onClose:Z})]})};$.displayName="Dropdown";try{$.displayName="Dropdown",$.__docgenInfo={description:"",displayName:"Dropdown",props:{data:{defaultValue:null,description:"Content of the dropdown",name:"data",required:!1,type:{name:"DropdownData"}},treeData:{defaultValue:null,description:"Content of the dropdown, if tree",name:"treeData",required:!1,type:{name:"DropdownDataTree"}},placeholder:{defaultValue:null,description:"Text for dropdown, when no value is selected",name:"placeholder",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"Label of the dropdown",name:"label",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"Value of the dropdown",name:"value",required:!1,type:{name:"string"}},values:{defaultValue:null,description:"Value of the dropdown",name:"values",required:!1,type:{name:"string[]"}},icon:{defaultValue:null,description:"Icon displays before the dropdown's label",name:"icon",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},variant:{defaultValue:{value:"ghost"},description:"Dropdown's variants",name:"variant",required:!1,type:{name:"enum",value:[{value:'"ghost"'},{value:'"outlined"'}]}},size:{defaultValue:{value:"medium"},description:"Dropdown's sizes",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"medium"'}]}},imageSize:{defaultValue:null,description:"Size of images to show in the Dropdown",name:"imageSize",required:!1,type:{name:"enum",value:[{value:'"big"'},{value:'"small"'}]}},isDisabled:{defaultValue:null,description:"Whether the component should be disabled",name:"isDisabled",required:!1,type:{name:"boolean"}},hasSearch:{defaultValue:null,description:`Whether the Menu within the Dropdown has a search input
Autosearch is enabled if undefined
Autosearch is when search input is automatically added in the dropdown when autoAddSearchLimit is reached
@see autoAddSearchLimit`,name:"hasSearch",required:!1,type:{name:"boolean"}},autoAddSearchLimit:{defaultValue:{value:"7"},description:`Autosearch is triggered when data items exceed this limit
Applies only when autosearch is enabled (i.e. hasSearch is undefined)
Defaults to 7 if undefined or < 0
Autosearch is when search input is automatically added in the dropdown`,name:"autoAddSearchLimit",required:!1,type:{name:"number"}},searchEmptyText:{defaultValue:{value:"No results found."},description:"The text to display if the Dropdown Menu has a search input and the search doesn't have any results",name:"searchEmptyText",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"Additional classname",name:"className",required:!1,type:{name:"string"}},onClear:{defaultValue:null,description:"Function - when passed in, the Clear icon appears at the end of the input and its click event is passed back when the Clear icon is clicked",name:"onClear",required:!1,type:{name:"MouseEventHandler<Element>"}},onChange:{defaultValue:null,description:`Function trigger on change with the current option as param
@param event - Mouse event
@param item - The current item selected`,name:"onChange",required:!1,type:{name:"(event: MouseEvent<Element, MouseEvent>, item: DropdownDataOption) => void"}},onFocus:{defaultValue:null,description:"Function triggered on focus of the checkbox value",name:"onFocus",required:!1,type:{name:"FocusEventHandler<Element>"}},onBlur:{defaultValue:null,description:"Function triggered when the checkbox value loses focus",name:"onBlur",required:!1,type:{name:"FocusEventHandler<Element>"}}}}}catch{}export{$ as D};

"use strict";(self.webpackChunk_jahia_moonstone=self.webpackChunk_jahia_moonstone||[]).push([[5330],{"./src/components/Dropdown/Dropdown.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>Dropdown_Dropdown_Dropdown});var react=__webpack_require__("./node_modules/react/index.js"),clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),Dropdown=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/Dropdown/Dropdown.scss"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(Dropdown.A,options);Dropdown.A&&Dropdown.A.locals&&Dropdown.A.locals;var DropdownVariants=function(DropdownVariants){return DropdownVariants.Ghost="ghost",DropdownVariants.Outlined="outlined",DropdownVariants}({}),DropdownSizes=function(DropdownSizes){return DropdownSizes.Small="small",DropdownSizes.Medium="medium",DropdownSizes}({}),DropdownImageSizes=function(DropdownImageSizes){return DropdownImageSizes.Small="small",DropdownImageSizes.Big="big",DropdownImageSizes}({}),MenuItem=__webpack_require__("./src/components/Menu/MenuItem.tsx"),Separator=__webpack_require__("./src/components/Separator/Separator.tsx"),Menu=__webpack_require__("./src/components/Menu/Menu.tsx"),CheckboxChecked=__webpack_require__("./src/icons/components/CheckboxChecked.tsx"),CheckboxUnchecked=__webpack_require__("./src/icons/components/CheckboxUnchecked.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var DropdownMenu=function DropdownMenu(_ref){var isDisplayed=_ref.isDisplayed,anchorPosition=_ref.anchorPosition,minWidth=_ref.minWidth,maxWidth=_ref.maxWidth,maxHeight=_ref.maxHeight,anchorEl=_ref.anchorEl,hasSearch=_ref.hasSearch,autoAddSearchLimit=_ref.autoAddSearchLimit,searchEmptyText=_ref.searchEmptyText,data=_ref.data,value=_ref.value,values=_ref.values,imageSize=_ref.imageSize,handleSelect=_ref.handleSelect,handleKeyPress=_ref.handleKeyPress,onClose=_ref.onClose,isGrouped=!(data.length<1)&&void 0!==data[0].options,getIcon=function getIcon(item){return(null==values?void 0:values.indexOf(item.value))>-1?react.createElement(CheckboxChecked.A,{role:"checkbox",color:"blue"}):react.createElement(CheckboxUnchecked.A,{role:"checkbox"})},dropdownOption=function dropdownOption(item){return react.createElement(MenuItem.D,_extends({key:item.value,role:"option",iconStart:values?getIcon(item):item.iconStart,iconSize:"default",label:item.label,description:item.description,iconEnd:item.iconEnd,isDisabled:item.isDisabled,isSelected:value===item.value,image:item.image,imageSize,onClick:function onClick(e){return handleSelect(e,item)},onKeyPress:function onKeyPress(e){return handleKeyPress(e,item)}},item.attributes))};return 0===data.length?null:react.createElement(Menu.W,{isDisplayed,position:"fixed",anchorPosition,minWidth,maxWidth,maxHeight,anchorEl,hasSearch,autoAddSearchLimit,searchEmptyText,onClose},data.map((function(item,index){return isGrouped?(item.options.map((function(o){return dropdownOption(o)})),function dropdownGrouped(children,groupLabel,index){return react.createElement("div",{key:"".concat(groupLabel,"-").concat(index),"data-option-type":"group"},index>0&&react.createElement(Separator.w,null),react.createElement(MenuItem.D,{variant:"title",label:groupLabel}),children.map((function(item){return dropdownOption(item)})))}(item.options,item.groupLabel,index)):dropdownOption(item)})))};try{DropdownMenu.displayName="DropdownMenu",DropdownMenu.__docgenInfo={description:"",displayName:"DropdownMenu",props:{maxHeight:{defaultValue:null,description:"",name:"maxHeight",required:!1,type:{name:"string"}},maxWidth:{defaultValue:null,description:"",name:"maxWidth",required:!1,type:{name:"string"}},minWidth:{defaultValue:null,description:"",name:"minWidth",required:!1,type:{name:"string"}},isDisplayed:{defaultValue:null,description:"",name:"isDisplayed",required:!0,type:{name:"boolean"}},anchorEl:{defaultValue:null,description:"",name:"anchorEl",required:!1,type:{name:"MutableRefObject<HTMLDivElement>"}},anchorPosition:{defaultValue:null,description:"",name:"anchorPosition",required:!1,type:{name:"AnchorPosition"}},hasSearch:{defaultValue:null,description:"",name:"hasSearch",required:!1,type:{name:"boolean"}},autoAddSearchLimit:{defaultValue:null,description:"",name:"autoAddSearchLimit",required:!0,type:{name:"number"}},searchInput:{defaultValue:null,description:"",name:"searchInput",required:!1,type:{name:"string"}},searchEmptyText:{defaultValue:null,description:"",name:"searchEmptyText",required:!1,type:{name:"string"}},hasOverlay:{defaultValue:null,description:"",name:"hasOverlay",required:!1,type:{name:"boolean"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"DropdownDataOption[]"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},values:{defaultValue:null,description:"",name:"values",required:!1,type:{name:"string[]"}},imageSize:{defaultValue:null,description:"",name:"imageSize",required:!1,type:{name:"enum",value:[{value:'"big"'},{value:'"small"'}]}},handleSelect:{defaultValue:null,description:"",name:"handleSelect",required:!0,type:{name:"(e?: KeyboardEvent<Element> | MouseEvent<Element, MouseEvent>, item?: DropdownDataOption) => void"}},handleKeyPress:{defaultValue:null,description:"",name:"handleKeyPress",required:!0,type:{name:"(e?: KeyboardEvent<Element>, item?: DropdownDataOption) => void"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Dropdown/DropdownMenu.tsx#DropdownMenu"]={docgenInfo:DropdownMenu.__docgenInfo,name:"DropdownMenu",path:"src/components/Dropdown/DropdownMenu.tsx#DropdownMenu"})}catch(__react_docgen_typescript_loader_error){}var usePositioning=__webpack_require__("./src/hooks/usePositioning.tsx"),SearchInput=__webpack_require__("./src/components/Input/SearchInput/SearchInput.tsx"),TreeView=__webpack_require__("./src/components/TreeView/TreeView.tsx");__webpack_require__("./src/components/Menu/Menu.scss");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||_unsupportedIterableToArray(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toConsumableArray(r){return function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}(r)||function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||_unsupportedIterableToArray(r)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function filterNodes(predicate,nodes,opened){var filtered=[];return nodes.forEach((function(c){var filterResult=filterNode(predicate,c,opened);filterResult&&filtered.push(filterResult)})),filtered}var filterNode=function filterNode(predicate,node,opened){var match=predicate(node),children=[];if(node.children){var filteredChildren=filterNodes(predicate,node.children,opened);filteredChildren.length>0&&(children.push.apply(children,_toConsumableArray(filteredChildren)),opened.push(node.id))}if(match||children.length>0)return _objectSpread(_objectSpread({},node),{},{treeItemProps:{className:(0,clsx.A)({"moonstone-disabled":!match})},isDisabled:!match,children})},_find=function find(predicate,data,opened){if(predicate(data))return data;if(data.children){var res=data.children.reduce((function(current,child){return current||_find(predicate,child,opened)}),null);return res&&opened&&opened.push(data.id),res}},TreeViewMenu=function TreeViewMenu(_ref){var isDisplayed=_ref.isDisplayed,minWidth=_ref.minWidth,maxWidth=_ref.maxWidth,maxHeight=_ref.maxHeight,anchorEl=_ref.anchorEl,anchorPosition=_ref.anchorPosition,anchorElOrigin=_ref.anchorElOrigin,transformElOrigin=_ref.transformElOrigin,position=_ref.position,hasOverlay=_ref.hasOverlay,hasSearch=_ref.hasSearch,autoAddSearchLimit=_ref.autoAddSearchLimit,treeData=_ref.treeData,value=_ref.value,values=_ref.values,handleSelect=_ref.handleSelect,onClose=_ref.onClose,_usePositioning2=_slicedToArray((0,usePositioning.T)(isDisplayed,anchorPosition,anchorEl,anchorElOrigin,transformElOrigin,position),2),stylePosition=_usePositioning2[0],itemRef=_usePositioning2[1],_useState2=_slicedToArray((0,react.useState)(""),2),inputValue=_useState2[0],setInputValue=_useState2[1],_useState4=_slicedToArray((0,react.useState)([]),2),openedItems=_useState4[0],setOpenedItems=_useState4[1],openedBySearch=[],selected=[];""!==inputValue&&(treeData=filterNodes((function(node){return node.label.toLowerCase().includes(inputValue.toLowerCase())}),treeData,openedBySearch)),value&&treeData.forEach((function(single){var item=_find((function(data){return data.value===value}),single,openedBySearch);item&&selected.push(item.id)})),values&&values.forEach((function(v){treeData.forEach((function(single){var item=_find((function(data){return data.value===v}),single,openedBySearch);item&&selected.push(item.id)}))}));var styleMenu=_objectSpread({position},stylePosition);minWidth&&(styleMenu.minWidth=minWidth),maxWidth&&(styleMenu.maxWidth=maxWidth),maxHeight&&(styleMenu.maxHeight=maxHeight);var _flatten,hasAutoSearch=hasSearch;void 0===hasSearch&&(hasAutoSearch=(null===(_flatten=function flatten(data){var _data$forEach,res=[],_fn=function fn(current){res.push(current),current.children&&current.children.forEach(_fn)};return null==data||null===(_data$forEach=data.forEach)||void 0===_data$forEach||_data$forEach.call(data,_fn),res}(treeData))||void 0===_flatten?void 0:_flatten.length)>autoAddSearchLimit);return react.createElement(react.Fragment,null,react.createElement("menu",{ref:itemRef,className:"moonstone-menu",style:styleMenu},hasAutoSearch&&react.createElement("div",{className:"moonstone-menu_searchInput"},react.createElement(SearchInput.D,{value:inputValue,onChange:function onChange(e){return setInputValue(e.target.value)},onKeyPress:function onKeyPress(e){if("Enter"===e.key&&treeData.length>0){var item=_find((function(data){return!data.isDisabled}),treeData[0]);item&&handleSelect(e,item)}},onClear:function onClear(){return setInputValue("")}})),react.createElement(TreeView.G,{data:treeData,selectedItems:selected,size:"small",showCheckbox:Boolean(values),openedItems:[].concat(_toConsumableArray(openedItems),openedBySearch),onOpenItem:function onOpenItem(node){setOpenedItems((function(previousOpenedItems){return[].concat(_toConsumableArray(previousOpenedItems),[node.id])}))},onCloseItem:function onCloseItem(node){setOpenedItems((function(previousOpenedItems){return previousOpenedItems.filter((function(item){return item!==node.id}))}))},onClickItem:function onClickItem(node,e){handleSelect(e,node)}})),hasOverlay&&isDisplayed&&react.createElement("div",{"aria-hidden":"true",className:"moonstone-menu_overlay",onClick:onClose,onContextMenu:onClose}))};TreeViewMenu.defaultProps={hasOverlay:!0,autoAddSearchLimit:7,searchEmptyText:"No results found.",position:"fixed",anchorEl:null,anchorPosition:{top:0,left:0},anchorElOrigin:{vertical:"bottom",horizontal:"left"},transformElOrigin:{vertical:"top",horizontal:"left"}},TreeViewMenu.displayName="TreeViewMenu";try{TreeViewMenu.displayName="TreeViewMenu",TreeViewMenu.__docgenInfo={description:"",displayName:"TreeViewMenu",props:{treeData:{defaultValue:null,description:"Data to generate the tree",name:"treeData",required:!0,type:{name:"TreeViewData[]"}},maxHeight:{defaultValue:null,description:"",name:"maxHeight",required:!1,type:{name:"string"}},maxWidth:{defaultValue:null,description:"",name:"maxWidth",required:!1,type:{name:"string"}},minWidth:{defaultValue:null,description:"",name:"minWidth",required:!1,type:{name:"string"}},isDisplayed:{defaultValue:null,description:"",name:"isDisplayed",required:!0,type:{name:"boolean"}},anchorEl:{defaultValue:{value:"null"},description:"",name:"anchorEl",required:!1,type:{name:"MutableRefObject<HTMLDivElement>"}},anchorPosition:{defaultValue:{value:"{\n        top: 0,\n        left: 0\n    }"},description:"",name:"anchorPosition",required:!1,type:{name:"AnchorPosition"}},anchorElOrigin:{defaultValue:{value:"{\n        vertical: 'bottom',\n        horizontal: 'left'\n    }"},description:"",name:"anchorElOrigin",required:!1,type:{name:"AnchorElOrigin"}},transformElOrigin:{defaultValue:{value:"{\n        vertical: 'top',\n        horizontal: 'left'\n    }"},description:"",name:"transformElOrigin",required:!1,type:{name:"TransformElOrigin"}},position:{defaultValue:{value:"fixed"},description:"",name:"position",required:!1,type:{name:"enum",value:[{value:'"fixed"'},{value:'"absolute"'}]}},hasSearch:{defaultValue:null,description:"",name:"hasSearch",required:!1,type:{name:"boolean"}},autoAddSearchLimit:{defaultValue:{value:"7"},description:"",name:"autoAddSearchLimit",required:!1,type:{name:"number"}},searchInput:{defaultValue:null,description:"",name:"searchInput",required:!1,type:{name:"string"}},searchEmptyText:{defaultValue:{value:"No results found."},description:"",name:"searchEmptyText",required:!1,type:{name:"string"}},hasOverlay:{defaultValue:{value:"true"},description:"",name:"hasOverlay",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},values:{defaultValue:null,description:"",name:"values",required:!1,type:{name:"string[]"}},imageSize:{defaultValue:null,description:"",name:"imageSize",required:!1,type:{name:"enum",value:[{value:'"big"'},{value:'"small"'}]}},handleSelect:{defaultValue:null,description:"",name:"handleSelect",required:!0,type:{name:"(e?: KeyboardEvent<Element> | MouseEvent<Element, MouseEvent>, item?: DropdownDataOption) => void"}},handleKeyPress:{defaultValue:null,description:"",name:"handleKeyPress",required:!0,type:{name:"(e?: KeyboardEvent<Element>, item?: DropdownDataOption) => void"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Dropdown/TreeViewMenu.tsx#TreeViewMenu"]={docgenInfo:TreeViewMenu.__docgenInfo,name:"TreeViewMenu",path:"src/components/Dropdown/TreeViewMenu.tsx#TreeViewMenu"})}catch(__react_docgen_typescript_loader_error){}var Tag=__webpack_require__("./src/components/Tag/Tag.tsx"),Typography=__webpack_require__("./src/components/Typography/Typography.tsx"),Button=__webpack_require__("./src/components/Button/Button.tsx"),Cancel=__webpack_require__("./src/icons/components/Cancel.tsx"),ChevronDown=__webpack_require__("./src/icons/components/ChevronDown.tsx");function Dropdown_typeof(o){return Dropdown_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Dropdown_typeof(o)}var _excluded=["data","treeData","label","placeholder","value","values","isDisabled","variant","size","icon","hasSearch","autoAddSearchLimit","searchEmptyText","imageSize","onClear","onChange","onBlur","onFocus","className"];function Dropdown_extends(){return Dropdown_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Dropdown_extends.apply(null,arguments)}function Dropdown_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function Dropdown_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Dropdown_ownKeys(Object(t),!0).forEach((function(r){Dropdown_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Dropdown_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function Dropdown_defineProperty(e,r,t){return(r=function Dropdown_toPropertyKey(t){var i=function Dropdown_toPrimitive(t,r){if("object"!=Dropdown_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=Dropdown_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==Dropdown_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Dropdown_slicedToArray(r,e){return function Dropdown_arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function Dropdown_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function Dropdown_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return Dropdown_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Dropdown_arrayLikeToArray(r,a):void 0}}(r,e)||function Dropdown_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dropdown_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var Dropdown_Dropdown_Dropdown=function Dropdown(_ref){var _flatData$find,data=_ref.data,treeData=_ref.treeData,label=_ref.label,placeholder=_ref.placeholder,value=_ref.value,values=_ref.values,isDisabled=_ref.isDisabled,_ref$variant=_ref.variant,variant=void 0===_ref$variant?DropdownVariants.Ghost:_ref$variant,_ref$size=_ref.size,size=void 0===_ref$size?DropdownSizes.Medium:_ref$size,icon=_ref.icon,hasSearch=_ref.hasSearch,_ref$autoAddSearchLim=_ref.autoAddSearchLimit,autoAddSearchLimit=void 0===_ref$autoAddSearchLim?7:_ref$autoAddSearchLim,_ref$searchEmptyText=_ref.searchEmptyText,searchEmptyText=void 0===_ref$searchEmptyText?"No results found.":_ref$searchEmptyText,imageSize=_ref.imageSize,onClear=_ref.onClear,onChange=_ref.onChange,onBlur=_ref.onBlur,onFocus=_ref.onFocus,className=_ref.className,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded),_useState2=Dropdown_slicedToArray((0,react.useState)(!1),2),isOpened=_useState2[0],setIsOpened=_useState2[1],_useState4=Dropdown_slicedToArray((0,react.useState)({focused:!1,event:null,lastSent:!1}),2),focusData=_useState4[0],setFocusData=_useState4[1],_useState6=Dropdown_slicedToArray((0,react.useState)(null),2),anchorEl=_useState6[0],setAnchorEl=_useState6[1],_useState8=Dropdown_slicedToArray((0,react.useState)(null),2),minWidth=_useState8[0],setMinWith=_useState8[1],ref=(0,react.useRef)(),isTree=Array.isArray(treeData),flatData=(0,react.useMemo)((function(){return isTree?function flatten(data){var _data$forEach,res=[],_fn=function fn(current){res.push(current),current.children&&current.children.forEach(_fn)};return null==data||null===(_data$forEach=data.forEach)||void 0===_data$forEach||_data$forEach.call(data,_fn),res}(treeData):data}),[treeData,data,isTree]),isEmpty=0===flatData.length;if((0,react.useEffect)((function(){focusData.focused&&focusData.event&&!focusData.lastSent&&onFocus&&(onFocus(focusData.event),setFocusData((function(p){return Dropdown_objectSpread(Dropdown_objectSpread({},p),{},{lastSent:!0})})))}),[onFocus,focusData]),(0,react.useEffect)((function(){!focusData.focused&&!isOpened&&focusData.event&&focusData.lastSent&&onBlur&&(onBlur(focusData.event),setFocusData((function(p){return Dropdown_objectSpread(Dropdown_objectSpread({},p),{},{lastSent:!1})})))}),[onBlur,isOpened,focusData]),!Array.isArray(flatData))return null;var menuMaxWidth,menuMaxHeight;switch(imageSize){case DropdownImageSizes.Big:menuMaxWidth="400px",menuMaxHeight="440px";break;case DropdownImageSizes.Small:menuMaxWidth="264px",menuMaxHeight="320px";break;default:menuMaxWidth="250px",menuMaxHeight="270px"}var handleOpenMenu=function handleOpenMenu(e){e.stopPropagation();var dropdownWidth=e.currentTarget.offsetWidth;setMinWith("".concat(dropdownWidth<80?80:dropdownWidth,"px")),setAnchorEl(e.currentTarget),setIsOpened(!0)},handleSelect=function handleSelect(e,item){if(item)if(values)item.isDisabled||(e.stopPropagation(),onChange(e,item));else{var canClose=!item.isDisabled;item.isDisabled||item.value===value||(e.stopPropagation(),canClose=onChange(e,item)),!1!==canClose&&setIsOpened(!1)}},isFilled=value||(null==values?void 0:values.length)>0,cssDropdown=(0,clsx.A)(label||icon?"flexRow_between":"flexRow_reverse","alignCenter","moonstone-dropdown","moonstone-".concat(size),"moonstone-dropdown_".concat(variant),{"moonstone-disabled":!(void 0!==isDisabled||!isEmpty)||isDisabled,"moonstone-filled":isFilled,"moonstone-opened":isOpened}),View=isTree?TreeViewMenu:DropdownMenu;return react.createElement("div",Dropdown_extends({className:(0,clsx.A)("moonstone-dropdown_container",className)},props,{onKeyPress:function onKeyPress(e){"Enter"===e.key&&handleOpenMenu(e)}}),react.createElement("div",{ref,role:"dropdown",className:(0,clsx.A)(cssDropdown),tabIndex:0,onClick:handleOpenMenu,onKeyPress:function onKeyPress(e){"Enter"===e.key&&handleSelect(e)},onBlur:function onBlur(event){setFocusData((function(p){return Dropdown_objectSpread(Dropdown_objectSpread({},p),{},{focused:!1,event})}))},onFocus:function onFocus(event){setFocusData((function(p){return Dropdown_objectSpread(Dropdown_objectSpread({},p),{},{focused:!0,event})}))}},icon&&react.createElement(icon.type,Dropdown_extends({},icon.props,{size:"default",className:(0,clsx.A)("moonstone-dropdown_icon")})),!label&&values&&values.length>0?react.createElement("div",{className:"moonstone-dropdown_tags flexFluid flexRow"},values.map((function(v){var item=flatData.find((function(i){return i.value===v}));return item&&react.createElement(Tag.v,{key:item.value,label:item.label,value:item.value,size,onClick:function onClick(e){ref.current.focus(),ref.current.blur(),handleSelect(e,item)}})}))):react.createElement(Typography.o,{isNowrap:!0,variant:"small"===size?"caption":"body",component:"span",className:(0,clsx.A)("flexFluid","moonstone-dropdown_label"),title:label},label||(null===(_flatData$find=flatData.find((function(i){return i.value===value})))||void 0===_flatData$find?void 0:_flatData$find.label)||placeholder),onClear&&isFilled&&!isDisabled&&react.createElement(Button.$,{className:"moonstone-baseInput_clearButton flexRow_center alignCenter",variant:"ghost",icon:react.createElement(Cancel.A,null),"aria-label":"Reset",onClick:function onClick(e){e.stopPropagation(),ref.current.focus(),ref.current.blur(),onClear(e)}}),react.createElement(ChevronDown.A,{className:"moonstone-dropdown_chevronDown"})),isOpened&&react.createElement(View,{isDisplayed:!0,data,treeData,value,values,anchorPosition:{top:4,left:0},minWidth,maxWidth:menuMaxWidth,maxHeight:menuMaxHeight,anchorEl,hasSearch,autoAddSearchLimit,searchEmptyText,handleKeyPress:function handleKeyPress(e,item){"Enter"===e.key&&handleSelect(e,item)},handleSelect,imageSize,onClose:function handleCloseMenu(){setIsOpened(!1),setAnchorEl(null)}}))};Dropdown_Dropdown_Dropdown.displayName="Dropdown";try{Dropdown_Dropdown_Dropdown.displayName="Dropdown",Dropdown_Dropdown_Dropdown.__docgenInfo={description:"",displayName:"Dropdown",props:{data:{defaultValue:null,description:"Content of the dropdown",name:"data",required:!1,type:{name:"DropdownDataOption[]"}},treeData:{defaultValue:null,description:"Content of the dropdown, if tree",name:"treeData",required:!1,type:{name:"TreeViewData[]"}},placeholder:{defaultValue:null,description:"Text for dropdown, when no value is selected",name:"placeholder",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"Label of the dropdown",name:"label",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"Value of the dropdown",name:"value",required:!1,type:{name:"string"}},values:{defaultValue:null,description:"Value of the dropdown",name:"values",required:!1,type:{name:"string[]"}},icon:{defaultValue:null,description:"Icon displays before the dropdown's label",name:"icon",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},variant:{defaultValue:{value:"DropdownVariants.Ghost"},description:"Dropdown's variants",name:"variant",required:!1,type:{name:"enum",value:[{value:'"outlined"'},{value:'"ghost"'}]}},size:{defaultValue:{value:"DropdownSizes.Medium"},description:"Dropdown's sizes",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"medium"'}]}},imageSize:{defaultValue:null,description:"Size of images to show in the Dropdown",name:"imageSize",required:!1,type:{name:"enum",value:[{value:'"big"'},{value:'"small"'}]}},isDisabled:{defaultValue:null,description:"Dropdown is disabled",name:"isDisabled",required:!1,type:{name:"boolean"}},hasSearch:{defaultValue:null,description:"Whether the Menu within the Dropdown has a search input\nAutosearch is enabled if undefined\nAutosearch is when search input is automatically added in the dropdown when autoAddSearchLimit is reached\n@see autoAddSearchLimit",name:"hasSearch",required:!1,type:{name:"boolean"}},autoAddSearchLimit:{defaultValue:{value:"7"},description:"Autosearch is triggered when data items exceed this limit\nApplies only when autosearch is enabled (i.e. hasSearch is undefined)\nDefaults to 7 if undefined or < 0\nAutosearch is when search input is automatically added in the dropdown",name:"autoAddSearchLimit",required:!1,type:{name:"number"}},searchEmptyText:{defaultValue:{value:"No results found."},description:"The text to display if the Dropdown Menu has a search input and the search doesn't have any results",name:"searchEmptyText",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"Additional classname",name:"className",required:!1,type:{name:"string"}},onClear:{defaultValue:null,description:"Function - when passed in, the Clear icon appears at the end of the input and its click event is passed back when the Clear icon is clicked",name:"onClear",required:!1,type:{name:"MouseEventHandler<Element>"}},onChange:{defaultValue:null,description:"Function trigger on change with the current option as param\n@param event - Mouse event\n@param item - The current item selected",name:"onChange",required:!1,type:{name:"(event: MouseEvent<Element, MouseEvent>, item: DropdownDataOption) => void"}},onFocus:{defaultValue:null,description:"Function triggered on focus of the checkbox value",name:"onFocus",required:!1,type:{name:"FocusEventHandler<Element>"}},onBlur:{defaultValue:null,description:"Function triggered when the checkbox value loses focus",name:"onBlur",required:!1,type:{name:"FocusEventHandler<Element>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Dropdown/Dropdown.tsx#Dropdown"]={docgenInfo:Dropdown_Dropdown_Dropdown.__docgenInfo,name:"Dropdown",path:"src/components/Dropdown/Dropdown.tsx#Dropdown"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Tag/Tag.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{v:()=>Tag_Tag_Tag});var react=__webpack_require__("./node_modules/react/index.js"),clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),Tag=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/Tag/Tag.scss"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(Tag.A,options);Tag.A&&Tag.A.locals&&Tag.A.locals;var Typography=__webpack_require__("./src/components/Typography/Typography.tsx"),_excluded=["label","value","size","onClick","className"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var Tag_Tag_Tag=function Tag(_ref){var label=_ref.label,value=_ref.value,_ref$size=_ref.size,size=void 0===_ref$size?"medium":_ref$size,_onClick=_ref.onClick,className=_ref.className,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded);return react.createElement("button",_extends({type:"button",className:(0,clsx.A)("moonstone-tag",className,{"moonstone-small":"small"===size}),onClick:function onClick(e){return _onClick(e,value)}},props),label&&react.createElement(Typography.o,{isNowrap:!0,component:"span",variant:"caption"},label))};Tag_Tag_Tag.displayName="Tag";try{Tag_Tag_Tag.displayName="Tag",Tag_Tag_Tag.__docgenInfo={description:"",displayName:"Tag",props:{label:{defaultValue:null,description:"Label display in the tag",name:"label",required:!0,type:{name:"string"}},value:{defaultValue:null,description:"Value of the tag",name:"value",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"Additional classname",name:"className",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"Function triggered on click",name:"onClick",required:!0,type:{name:"(event: MouseEvent<Element, MouseEvent>, value: string) => void"}},size:{defaultValue:{value:"medium"},description:"Tag size",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"medium"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Tag/Tag.tsx#Tag"]={docgenInfo:Tag_Tag_Tag.__docgenInfo,name:"Tag",path:"src/components/Tag/Tag.tsx#Tag"})}catch(__react_docgen_typescript_loader_error){}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/Dropdown/Dropdown.scss":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,":root{--spacing-pico: 2px;--spacing-nano: 4px;--spacing-small: 8px;--spacing-medium: 16px;--spacing-large: 24px;--spacing-big: 40px;--spacing-huge: 56px}.moonstone-dropdown_container{position:relative}.moonstone-dropdown_icon{display:flex;flex:0 0 auto}.moonstone-dropdown_chevronDown{flex:0 0 auto;margin-left:4px;margin-left:var(--spacing-nano)}.moonstone-dropdown_tags{gap:4px 8px;gap:var(--spacing-nano) var(--spacing-small)}.moonstone-disabled>.moonstone-treeView_item{color:var(--color-gray40);cursor:not-allowed;pointer-events:none}.moonstone-disabled>.moonstone-treeView_item:hover{pointer-events:none}.moonstone-dropdown{gap:2px;gap:var(--spacing-pico);padding:4px 8px;padding:var(--spacing-nano) var(--spacing-small);border-radius:var(--radius-selector);cursor:pointer}.moonstone-dropdown.moonstone-disabled{color:var(--color-gray40);cursor:not-allowed;pointer-events:none}.moonstone-dropdown.moonstone-disabled:hover{pointer-events:none}.moonstone-dropdown.moonstone-medium{gap:4px;gap:var(--spacing-nano);min-height:32px}.moonstone-dropdown.moonstone-opened{border:var(--border-selector_active)}.moonstone-dropdown:hover{color:var(--color-accent);border:var(--border-selector_hover)}.moonstone-dropdown:focus{border:var(--border-selector_focus);outline:none}.moonstone-dropdown:not(.moonstone-filled) .moonstone-dropdown_label{font-style:italic;color:var(--color-gray_dark60)}.moonstone-dropdown_outlined{color:var(--color-gray_dark);border:var(--border-selector);background-color:var(--background-selector)}.moonstone-dropdown_outlined.moonstone-disabled{color:var(--color-gray);background-color:var(--color-gray_light40)}","",{version:3,sources:["webpack://./src/tokens/spacings/spacings.scss","webpack://./src/components/Dropdown/Dropdown.scss","webpack://./src/utils/_mixins.scss"],names:[],mappings:"AAGA,MACI,mBAAA,CACA,mBAAA,CACA,oBAAA,CACA,sBAAA,CACA,qBAAA,CACA,mBAAA,CACA,oBAAA,CCPJ,8BACI,iBAAA,CAGJ,yBACI,YAAA,CACA,aAAA,CAGJ,gCACI,aAAA,CACA,eAAA,CAAA,+BAAA,CAGJ,yBACI,WAAA,CAAA,4CAAA,CAIA,6CCRA,yBAAA,CAEA,kBAAA,CDSI,mBAAA,CAEA,mDACI,mBAAA,CAKZ,oBACI,ODlCW,CCkCX,uBDlCW,CCmCX,eAAA,CAAA,gDAAA,CAEA,oCAAA,CACA,cAAA,CAEA,uCC1BA,yBAAA,CAEA,kBAAA,CD2BI,mBAAA,CAEA,6CACI,mBAAA,CAOR,qCACI,ODrDW,CCqDX,uBDrDW,CCsDX,eAAA,CAGJ,qCACI,oCAAA,CAGJ,0BACI,yBAAA,CAEA,mCAAA,CAGJ,0BACI,mCAAA,CACA,YAAA,CAGJ,qEACI,iBAAA,CACA,8BAAA,CAOR,6BACI,4BAAA,CAEA,6BAAA,CACA,2CAAA,CAEA,gDACI,uBAAA,CAEA,0CAAA",sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/Tag/Tag.scss":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".moonstone-tag{display:flex;width:-moz-fit-content;width:fit-content;max-width:100px;padding:4px 8px;color:var(--color-light);border:none;border-radius:var(--radius);background-color:var(--color-accent);cursor:pointer}.moonstone-tag.moonstone-small{padding:0 8px}.moonstone-tag:hover{background-color:var(--color-accent60)}","",{version:3,sources:["webpack://./src/components/Tag/Tag.scss"],names:[],mappings:"AAAA,eACI,YAAA,CACA,sBAAA,CAAA,iBAAA,CACA,eAAA,CACA,eAAA,CAEA,wBAAA,CAEA,WAAA,CACA,2BAAA,CACA,oCAAA,CACA,cAAA,CAEA,+BACI,aAAA,CAGJ,qBACI,sCAAA",sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___}}]);
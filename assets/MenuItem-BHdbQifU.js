import{r as u,g as O,R as C,j as c}from"./iframe-CPFqXHqg.js";import{c as K}from"./clsx-B-dksMZM.js";import{S as ee}from"./SearchInput-Bqihs9o-.js";import{T as te}from"./Typography-RAjipybU.js";import{o as ne}from"./onArrowNavigation-CltwoEwZ.js";import{L as ae}from"./ListItem-BCc7P9_8.js";const ie=(e,n,t,a,s)=>{const i=u.useRef(null);u.useEffect(()=>{typeof i.current<"u"&&(!e&&i.current&&(n&&n(),t&&t()),e&&!i.current&&(a&&a(),s&&s())),i.current=e},[e,s,a,t,n,i])};var M,F;function oe(){return F||(F=1,M=function(n,t){t||(t=[0,""]),n=String(n);var a=parseFloat(n,10);return t[0]=a,t[1]=n.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}),M}var V,T;function re(){if(T)return V;T=1;var e=oe();V=s;var n=a("in",document.body);function t(i,o){var r=e(getComputedStyle(i).getPropertyValue(o));return r[0]*s(r[1],i)}function a(i,o){var r=document.createElement("div");r.style.height="128"+i,o.appendChild(r);var l=t(r,"height")/128;return o.removeChild(r),l}function s(i,o){if(!i)return null;switch(o=o||document.body,i=(i+""||"px").trim().toLowerCase(),(o===window||o===document)&&(o=document.body),i){case"%":return o.clientHeight/100;case"ch":case"ex":return a(i,o);case"em":return t(o,"font-size");case"rem":return t(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return n;case"cm":return n/2.54;case"mm":return n/25.4;case"pt":return n/72;case"pc":return n/6;case"px":return 1}var r=e(i);if(!isNaN(r[0])&&r[1]){var l=s(r[1],o);return typeof l=="number"?r[0]*l:null}return null}return V}var se=re();const P=O(se),W={top:-1e3,left:-1e3},U=e=>({top:typeof e.top=="string"?P(e.top):e.top,left:typeof e.left=="string"?P(e.left):e.left}),le=e=>{for(e=e.parentElement;e.parentElement;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return e},S=(e,n,t)=>{const a={};switch(e.vertical){case"bottom":a.top=`calc(100% + ${t.top}px)`;break;case"center":a.top=`calc(50% + ${t.top}px)`;break;case"top":a.top=t.top;break}switch(e.horizontal){case"left":a.left=t.left;break;case"center":a.left=`calc(50% + ${t.left}px)`;break;case"right":a.left=`calc(100% + ${t.left}px)`;break}return n.vertical==="bottom"&&(a.transform="translateY(-100%)"),n.horizontal==="right"&&(a.transform=a.transform||"",a.transform+="translateX(-100%)"),a},ue=(e,n,t,a)=>{const s=e?.current?.getBoundingClientRect(),i=le(e?.current).getBoundingClientRect();let o=S(n,t,a);return o.left&&i.left+a.left+s.width>window.document.body.clientWidth&&n.horizontal==="right"&&(o=S({...n,horizontal:"left"},{...t,horizontal:"right"},a)),o.top&&i.top+i.height+a.top+s.height>window.document.body.clientHeight&&n.vertical==="bottom"&&(o=S({...n,vertical:"top"},{...t,vertical:"bottom"},a)),{...o,position:"absolute"}},R=(e,n,t,a)=>{const s=e.getBoundingClientRect(),i={};switch(n.vertical){case"top":i.top=s.top;break;case"center":i.top=s.top+s.height/2;break;case"bottom":i.top=s.bottom;break}switch(n.horizontal){case"left":i.left=s.left;break;case"center":i.left=s.left+s.width/2;break;case"right":i.left=s.right;break}const o=U(a);return!t||t.vertical==="top"?o.top+=i.top:t.vertical==="bottom"&&(o.bottom=window.document.body.clientHeight-i.top-o.top,delete o.top),!t||t.horizontal==="left"?o.left+=i.left:t.horizontal==="right"&&(o.right=window.document.body.clientWidth-i.left-o.left,delete o.left),X(e)&&delete o.left,o},de=(e,n,t,a,s)=>{const i=e?.current?.getBoundingClientRect(),o=n&&n.current?n.current:n;let r;return o?(r=R(o,t,a,s),r.left&&r.left+i.width>window.document.body.clientWidth&&t.horizontal==="right"&&(r=R(o,{...t,horizontal:"left"},{...a,horizontal:"right"},s)),r.top&&r.top+i.height>window.document.body.clientHeight&&t.vertical==="bottom"&&(r=R(o,{...t,vertical:"top"},{...a,vertical:"bottom"},s))):r=U(s),r.left&&r.left+i.width>window.document.body.clientWidth&&(r.left=window.document.body.clientWidth-i.width),r.top&&r.top+i.height>window.document.body.clientHeight&&(r.top=window.document.body.clientHeight-i.height),{...r,position:"fixed"}},ce=e=>{if(X(e)){const n=e.closest('[style*="transform"]').style.transform;return!(n==="translate(0px, 0px)"||n==="translate(0px)")}return!1},X=e=>e&&e.closest&&e.closest('[style*="transform"]'),pe=(e,n,t,a,s,i)=>{const[o,r]=u.useState(W),l=u.useRef(null);return u.useEffect(()=>{if(e){const p=t&&t.current?t.current:t,m=i==="absolute"||ce(p)?ue(l,a,s,n):de(l,t,a,s,n);r(m)}else r(W)},[t,n,a.vertical,a.horizontal,e,l,a,s,i]),[o,l]},me=e=>e[0].props["data-option-type"]==="group"?e.reduce((n,t)=>[...n,...t.props.children[2]],[]):e,j=(e,n)=>{if(e.props&&(e.props.label||e.props.description)){const t=e.props.label?e.props.label.toLowerCase().includes(n.toLowerCase()):!1,a=e.props.description?e.props.description.toLowerCase().includes(n.toLowerCase()):!1;return(t||a)&&e.props.variant!=="title"}return!1},fe=(e,n)=>e.length>0&&e[0].props?.["data-option-type"]==="group"?e.reduce((t,a)=>{const i=(a.props.children[2]||[]).filter(o=>j(o,n));if(i.length>0){const o={...a,props:{...a.props,children:[a.props.children[0],a.props.children[1],i]}};t.push(o)}return t},[]):e.filter(t=>j(t,n)),he={horizontal:"left",vertical:"bottom"},ye={vertical:"top",horizontal:"left"},ge={top:0,left:0},E=({children:e,isDisplayed:n,position:t="fixed",minWidth:a,maxWidth:s,maxHeight:i,className:o,style:r,onMouseEnter:l,onMouseLeave:p,anchorEl:m=null,anchorElOrigin:v=he,transformElOrigin:b=ye,anchorPosition:w=ge,onClose:f,onEntering:h,onEntered:x,onExiting:B,onExited:D,hasOverlay:$=!0,hasSearch:I,autoAddSearchLimit:J=7,searchEmptyText:Y="No results found.",...G})=>{const[z,Q]=pe(n,w,m,v,b,t);ie(n,B,D,h,x);const[y,H]=u.useState(""),[L,N]=u.useState(e),[Z,q]=u.useState(!1);if(u.useEffect(()=>{if(y!==""&&Array.isArray(e)){const d=fe(e,y);N(d),d.length===0?q(!0):q(!1)}else N(null),q(!1)},[y,e]),!e||C.Children.count(e)<1)return null;let _=I;if(typeof I>"u"){const d=Array.isArray(e)?me(e):e;_=C.Children.count(d)>J}const g={position:t,...z,...r};return a&&(g.minWidth=a),s&&(g.maxWidth=s),i&&(g.maxHeight=i),c.jsxs(c.Fragment,{children:[c.jsxs("menu",{ref:Q,style:g,role:"list",className:K("moonstone-menu",o,{"moonstone-hidden":!n||!z}),onMouseEnter:l,onMouseLeave:p,...G,children:[_&&c.jsx("div",{className:"moonstone-menu_searchInput",children:c.jsx(ee,{focusOnField:!0,value:y,onChange:d=>H(d.target.value),onKeyUp:d=>{if(d.key==="Enter"){const k=C.Children.toArray(L);k.length>0&&k[0].props.onClick(d)}},onClear:()=>H("")})}),L||e,Z&&c.jsx(te,{className:"moonstone-menu_emptySearchText",variant:"caption",children:Y})]}),$&&n&&c.jsx("div",{"aria-hidden":"true",className:"moonstone-menu_overlay",onClick:f,onContextMenu:f})]})};E.displayName="Menu";try{E.displayName="Menu",E.__docgenInfo={description:"",displayName:"Menu",props:{maxHeight:{defaultValue:null,description:"Maximum height of the Menu",name:"maxHeight",required:!1,type:{name:"string"}},maxWidth:{defaultValue:null,description:"Maximum width of the Menu",name:"maxWidth",required:!1,type:{name:"string"}},minWidth:{defaultValue:null,description:"Minimum width of the Menu",name:"minWidth",required:!1,type:{name:"string"}},children:{defaultValue:null,description:"Content of the dropdown",name:"children",required:!0,type:{name:"ReactNode"}},isDisplayed:{defaultValue:null,description:"Menu is display",name:"isDisplayed",required:!0,type:{name:"boolean"}},anchorEl:{defaultValue:{value:"null"},description:"Reference element to positioning the menu",name:"anchorEl",required:!1,type:{name:"MutableRefObject<HTMLDivElement>"}},anchorPosition:{defaultValue:{value:`{
    top: 0,
    left: 0
}as const`},description:"Position of the menu in px relative to anchorEl or the document",name:"anchorPosition",required:!1,type:{name:"AnchorPosition"}},anchorElOrigin:{defaultValue:{value:`{
    horizontal: 'left',
    vertical: 'bottom'
}as const`},description:"Point on the anchor where the menu's anchorEl will attach to",name:"anchorElOrigin",required:!1,type:{name:"AnchorElOrigin"}},transformElOrigin:{defaultValue:{value:`{
    vertical: 'top',
    horizontal: 'left'
}as const`},description:"This is the point on the menu which will attach to the anchor's origin",name:"transformElOrigin",required:!1,type:{name:"TransformElOrigin"}},className:{defaultValue:null,description:"Additional classname",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"Additional styles",name:"style",required:!1,type:{name:"CSSProperties"}},hasSearch:{defaultValue:null,description:`Whether the Menu displays a search input at the top
Autosearch is enabled if undefined
Autosearch is when search input is automatically added in the dropdown when autoAddSearchLimit is reached
@see autoAddSearchLimit`,name:"hasSearch",required:!1,type:{name:"boolean"}},autoAddSearchLimit:{defaultValue:{value:"7"},description:`Autosearch is triggered when data items exceed this limit
Applies only when autosearch is enabled (i.e. hasSearch is undefined)
Defaults to 7 if undefined or < 0
Autosearch is when search input is automatically added in the dropdown`,name:"autoAddSearchLimit",required:!1,type:{name:"number"}},searchEmptyText:{defaultValue:{value:"No results found."},description:"Text to display when the search doesn't show any results",name:"searchEmptyText",required:!1,type:{name:"string"}},position:{defaultValue:{value:"fixed"},description:`If 'absolute' is passed in for the position, the component will be positioned as per normal
CSS rules (i.e., positioned against the closest positioned ancestor). Position is 'fixed' by default`,name:"position",required:!1,type:{name:"enum",value:[{value:'"fixed"'},{value:'"absolute"'}]}},onMouseEnter:{defaultValue:null,description:"Function triggered when the mouse pointer hovering the menu",name:"onMouseEnter",required:!1,type:{name:"(event: MouseEvent<HTMLDivElement, MouseEvent>) => void"}},onMouseLeave:{defaultValue:null,description:"Function triggered when the mouse pointer move off the menu",name:"onMouseLeave",required:!1,type:{name:"(event: MouseEvent<HTMLDivElement, MouseEvent>) => void"}},onClose:{defaultValue:null,description:"Function triggered when the menu close",name:"onClose",required:!1,type:{name:"(event: MouseEvent<HTMLDivElement, MouseEvent>) => void"}},onEntering:{defaultValue:null,description:"Function triggered when the menu is going to be opened (before open)",name:"onEntering",required:!1,type:{name:"() => void"}},onEntered:{defaultValue:null,description:"Function triggered when the menu has been opened (after open)",name:"onEntered",required:!1,type:{name:"() => void"}},onExiting:{defaultValue:null,description:"Function triggered when the menu is going to be closed (before exit)",name:"onExiting",required:!1,type:{name:"() => void"}},onExited:{defaultValue:null,description:"Function triggered when the menu has been closed (after exit)",name:"onExited",required:!1,type:{name:"() => void"}},hasOverlay:{defaultValue:{value:"true"},description:"The menu has overlay or not",name:"hasOverlay",required:!1,type:{name:"boolean"}}}}}catch{}const A=({variant:e="default",isHover:n,isSelected:t=!1,isDisabled:a=!1,isHighlighted:s=!1,iconStart:i,iconSize:o,iconEnd:r,image:l,imageSize:p,className:m,description:v,onKeyPress:b,onKeyUp:w,...f})=>{const h=u.useRef(null);return c.jsx(ae,{ref:h,tabIndex:a||e==="title"||t?null:0,"aria-disabled":a,className:K("moonstone-menuItem",{"moonstone-hover":n,"moonstone-selected":t,"moonstone-disabled":a,"moonstone-highlighted":s&&!t,"moonstone-title":e==="title"},l&&"moonstone-menuItem-image",m),image:l,imageSize:p,iconSize:o,iconStart:i,iconEnd:r,description:v,onKeyPress:x=>{console.warn("onKeyPress is deprecated and will be removed in a future release. You should use onKeyUp instead."),b(x)},onKeyUp:w,...ne({ref:h}),...f})};A.displayName="MenuItem";try{A.displayName="MenuItem",A.__docgenInfo={description:"",displayName:"MenuItem",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLLIElement>"}},label:{defaultValue:null,description:"ListItem label",name:"label",required:!0,type:{name:"ReactNode"}},image:{defaultValue:null,description:"Optional image to display to describe the menu item. Cannot be used in conjunction with the iconStart property.",name:"image",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},className:{defaultValue:null,description:"Additional classname",name:"className",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"Optional description to display to describe the item",name:"description",required:!1,type:{name:"string"}},imageSize:{defaultValue:null,description:"Sets pre-defined max height/width to image; defaults to small",name:"imageSize",required:!1,type:{name:"enum",value:[{value:'"big"'},{value:'"small"'}]}},iconStart:{defaultValue:null,description:"A leading icon display before the label. Cannot be used in conjunction with the image property.",name:"iconStart",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},iconEnd:{defaultValue:null,description:"A trailing icon display at the end of ListItem",name:"iconEnd",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},iconSize:{defaultValue:null,description:`Which icon size to render.
Which icon size to render. The default is small`,name:"iconSize",required:!1,type:{name:"enum",value:[{value:'"big"'},{value:'"small"'},{value:'"default"'}]}},isHover:{defaultValue:null,description:"Is item being hovered",name:"isHover",required:!1,type:{name:"boolean"}},isSelected:{defaultValue:{value:"false"},description:"Is item selected",name:"isSelected",required:!1,type:{name:"boolean"}},isDisabled:{defaultValue:{value:"false"},description:"Whether the component should be disabled",name:"isDisabled",required:!1,type:{name:"boolean"}},isHighlighted:{defaultValue:{value:"false"},description:"Is item highlighted, cannot be selected at the same time",name:"isHighlighted",required:!1,type:{name:"boolean"}},variant:{defaultValue:{value:"default"},description:"MenuItem variants",name:"variant",required:!1,type:{name:"enum",value:[{value:'"title"'},{value:'"default"'}]}},onClick:{defaultValue:null,description:"Function triggered on clicking the item",name:"onClick",required:!1,type:{name:"MouseEventHandler<Element>"}},onMouseEnter:{defaultValue:null,description:"Function triggered when the mouse pointer hovering the item",name:"onMouseEnter",required:!1,type:{name:"MouseEventHandler<Element>"}},onMouseLeave:{defaultValue:null,description:"Function triggered when the mouse pointer move off the item",name:"onMouseLeave",required:!1,type:{name:"MouseEventHandler<Element>"}},onKeyPress:{defaultValue:null,description:"@deprecated onKeyPress is deprecated and will be removed in a future release. You should use onKeyUp instead.",name:"onKeyPress",required:!1,type:{name:"KeyboardEventHandler<Element>"}}}}}catch{}export{E as M,A as a,pe as u};

import{r as w,j as l}from"./iframe-nmEr806O.js";import{c as D}from"./clsx-B-dksMZM.js";import{S as ae}from"./Cancel-BhZG2OA7.js";import{S as oe}from"./ChevronDown-C6LgEpAF.js";import{T as ie}from"./Tag-AqvP35LO.js";import{M as le,a as X,u as re}from"./MenuItem-DWtwNLsJ.js";import{S as se}from"./SearchInput-DKqfcdko.js";import{T as ue}from"./TreeView-B0ILFA8J.js";import{o as de}from"./useAccessibleClick-Bdvd2I0f.js";import{S as ce,a as pe}from"./CheckboxUnchecked-DrMmwzIm.js";import{S as me}from"./Separator-FusVRpZ3.js";import{L as he}from"./Loader-D0Z8b268.js";import{T as fe}from"./Typography-DqVx_Ex2.js";import{B as ye}from"./Button-DlXUV4Hi.js";const ve=t=>{const e=[],n=o=>{e.push(o),o.children&&o.children.forEach(n)};return t?.forEach?.(n),e},ge=t=>Array.isArray(t)?t.every(e=>"options"in e&&"groupLabel"in e):!1,K=(t,e)=>ge(t)?t.reduce((n,o)=>n.concat(o.options),[]).find(n=>n.value===e):t.find(n=>n.value===e),B=({data:t,treeData:e,label:n,placeholder:o,value:d,values:u,isDisabled:m,isLoading:v=!1,variant:A="ghost",size:b="medium",icon:g,hasSearch:T,autoAddSearchLimit:h=7,searchEmptyText:C="No results found.",imageSize:V,onClear:M,onChange:E,onBlur:S,onFocus:a,className:f,...x})=>{d!==void 0&&u!==void 0&&console.warn("The Dropdown component cannot receive both `value` and `values` props."),t!==void 0&&e!==void 0&&console.warn("The Dropdown component cannot receive both `data` and `treeData` props."),n!==void 0&&console.warn("The property `label` is deprecated in the Dropdown component. Use `placeholder` to show text when no value is selected; otherwise, the label for the selected value is automatically displayed.");const[q,_]=w.useState(!1),[y,N]=w.useState({focused:!1,event:null,lastSent:!1}),[O,L]=w.useState(null),[j,P]=w.useState(null),r=w.useRef(),c=Array.isArray(e),p=w.useMemo(()=>c?ve(e):t,[e,t,c]),I=p.length===0;if(w.useEffect(()=>{y.focused&&y.event&&!y.lastSent&&a&&(a(y.event),N(i=>({...i,lastSent:!0})))},[a,y]),w.useEffect(()=>{!y.focused&&!q&&y.event&&y.lastSent&&S&&(S(y.event),N(i=>({...i,lastSent:!1})))},[S,q,y]),!Array.isArray(p))return null;const U=80,Y={top:4,left:0};let F,k;switch(V){case"big":F="400px",k="440px";break;case"small":F="264px",k="320px";break;default:F="250px",k="270px"}const G=i=>{i.stopPropagation();const s=i.currentTarget.offsetWidth;P(`${s<U?U:s}px`),L(i.currentTarget),_(!0)},R=(i,s)=>{if(s)if(u)s.isDisabled||(i.stopPropagation(),E(i,s));else{let W=!s.isDisabled;!s.isDisabled&&s.value!==d&&(i.stopPropagation(),W=E(i,s)),W!==!1&&_(!1)}},Z=()=>{_(!1),L(null)},ee=(i,s)=>{i.key==="Enter"&&R(i,s)},J=d||u?.length>0,ne=D(!n&&!g?"flexRow_reverse":"flexRow_between","alignCenter","moonstone-dropdown",`moonstone-${b}`,`moonstone-dropdown_${A}`,{"moonstone-disabled":typeof m>"u"&&I?!0:m,"moonstone-dropdown_loading":v,"moonstone-filled":J,"moonstone-opened":q}),te=c?z:$;return l.jsxs("div",{className:D("moonstone-dropdown_container",f),...x,children:[l.jsxs("div",{ref:r,role:"listbox","aria-label":n||K(p,d)?.label||o,"aria-disabled":m||I,"aria-busy":v?!0:void 0,className:D(ne),tabIndex:0,onClick:!m&&!v?G:void 0,onKeyUp:i=>{i.key==="Enter"&&!m&&!v&&G(i)},onBlur:i=>{N(s=>({...s,focused:!1,event:i}))},onFocus:i=>{N(s=>({...s,focused:!0,event:i}))},children:[g&&!v&&l.jsx(g.type,{...g.props,size:"default",className:D("moonstone-dropdown_icon"),role:"presentation"}),v&&l.jsx(he,{size:"small",className:D({"moonstone-dropdown_loaderOverlay":!g})}),!n&&u&&u.length>0?l.jsx("div",{className:"moonstone-dropdown_tags flexFluid flexRow",children:u.map(i=>{const s=K(p,i);return s&&l.jsx(ie,{label:s.label,value:s.value,size:b,isDisabled:m,role:"option",onClick:W=>{r.current.focus(),r.current.blur(),m||R(W,s)}},s.value)})}):l.jsx(fe,{isNowrap:!0,variant:b==="small"?"caption":"body",component:"span",className:D("flexFluid","moonstone-dropdown_label"),title:n,role:"option",children:n||K(p,d)?.label||o}),M&&J&&!m&&l.jsx(ye,{className:"moonstone-baseInput_clearButton flexRow_center alignCenter",variant:"ghost",icon:l.jsx(ae,{}),"aria-label":"Reset",onClick:i=>{i.stopPropagation(),r.current.focus(),r.current.blur(),M(i)}}),l.jsx(oe,{className:"moonstone-dropdown_chevronDown",role:"presentation"})]}),q&&l.jsx(te,{isDisplayed:!0,data:t,treeData:e,value:d,values:u,anchorPosition:Y,minWidth:j,maxWidth:F,maxHeight:k,anchorEl:O,hasSearch:T,autoAddSearchLimit:h,searchEmptyText:C,handleKeyPress:ee,handleSelect:R,imageSize:V,onClose:Z})]})};B.displayName="Dropdown";try{B.displayName="Dropdown",B.__docgenInfo={description:"",displayName:"Dropdown",props:{placeholder:{defaultValue:null,description:"Text for dropdown, when no value is selected",name:"placeholder",required:!1,type:{name:"string"}},label:{defaultValue:null,description:`Label of the dropdown
@deprecated Label is deprecated and will be removed in a future release.
Use \`placeholder\` to show text when no value is selected; otherwise,
the label for the selected value is automatically displayed.'`,name:"label",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"Icon displays before the dropdown's label",name:"icon",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},variant:{defaultValue:{value:"ghost"},description:"Dropdown's variants",name:"variant",required:!1,type:{name:"enum",value:[{value:'"ghost"'},{value:'"outlined"'}]}},size:{defaultValue:{value:"medium"},description:"Dropdown's sizes",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"medium"'}]}},imageSize:{defaultValue:null,description:"Size of images to show in the Dropdown",name:"imageSize",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"big"'}]}},isDisabled:{defaultValue:null,description:"Whether the component should be disabled",name:"isDisabled",required:!1,type:{name:"boolean"}},isLoading:{defaultValue:{value:"false"},description:"Whether the dropdown is loading",name:"isLoading",required:!1,type:{name:"boolean"}},hasSearch:{defaultValue:null,description:`Whether the Menu within the Dropdown has a search input
Autosearch is enabled if undefined
Autosearch is when search input is automatically added in the dropdown when autoAddSearchLimit is reached
@see autoAddSearchLimit`,name:"hasSearch",required:!1,type:{name:"boolean"}},autoAddSearchLimit:{defaultValue:{value:"7"},description:`Autosearch is triggered when data items exceed this limit
Applies only when autosearch is enabled (i.e. hasSearch is undefined)
Defaults to 7 if undefined or < 0
Autosearch is when search input is automatically added in the dropdown`,name:"autoAddSearchLimit",required:!1,type:{name:"number"}},searchEmptyText:{defaultValue:{value:"No results found."},description:"The text to display if the Dropdown Menu has a search input and the search doesn't have any results",name:"searchEmptyText",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"Additional classname",name:"className",required:!1,type:{name:"string"}},onClear:{defaultValue:null,description:"Function - when passed in, the Clear icon appears at the end of the input and its click event is passed back when the Clear icon is clicked",name:"onClear",required:!1,type:{name:"MouseEventHandler<Element>"}},onFocus:{defaultValue:null,description:"Function triggered on focus of the checkbox value",name:"onFocus",required:!1,type:{name:"FocusEventHandler<Element>"}},onBlur:{defaultValue:null,description:"Function triggered when the checkbox value loses focus",name:"onBlur",required:!1,type:{name:"FocusEventHandler<Element>"}},onChange:{defaultValue:null,description:`Function trigger on change with the current option as param
@param event - Mouse event
@param item - The current item selected`,name:"onChange",required:!1,type:{name:"(event: MouseEvent<Element, MouseEvent>, item: DropdownDataOption) => void"}},value:{defaultValue:null,description:`Value of the dropdown (single selection)
Not allowed in multiple selection mode`,name:"value",required:!1,type:{name:"string"}},values:{defaultValue:null,description:`Not allowed in single selection mode
Values of the dropdown (multiple selection)`,name:"values",required:!1,type:{name:"string[]"}},data:{defaultValue:null,description:`Not allowed when using tree data
Content of the dropdown`,name:"data",required:!1,type:{name:"DropdownData"}},treeData:{defaultValue:null,description:`Content of the dropdown, if tree
Not allowed when using regular data`,name:"treeData",required:!1,type:{name:"DropdownDataTree"}}}}}catch{}const $=({isDisplayed:t,anchorPosition:e,minWidth:n,maxWidth:o,maxHeight:d,anchorEl:u,hasSearch:m,autoAddSearchLimit:v,searchEmptyText:A,data:b,value:g,values:T,imageSize:h,handleSelect:C,onClose:V})=>{const M=a=>T?.indexOf(a.value)>-1?l.jsx(ce,{role:"checkbox",color:"blue"}):l.jsx(pe,{role:"checkbox"}),E=a=>l.jsx(X,{iconStart:T?M(a):a.iconStart,iconSize:"default",label:a.label,description:a.description,iconEnd:a.iconEnd,isDisabled:a.isDisabled,isSelected:g===a.value,image:a.image,imageSize:h,...de({onClick:f=>C(f,a),disabled:a.isDisabled,role:"option"}),...a.attributes},a.value),S=(a,f,x)=>l.jsxs("div",{"data-option-type":"group",children:[x>0&&l.jsx(me,{}),l.jsx(X,{variant:"title",label:f}),a.map(q=>E(q))]},`${f}-${x}`);return b.length===0?null:l.jsx(le,{isDisplayed:t,position:"fixed",anchorPosition:e,minWidth:n,maxWidth:o,maxHeight:d,anchorEl:u,hasSearch:m,autoAddSearchLimit:v,searchEmptyText:A,onClose:V,children:b.map((a,f)=>"options"in a&&"groupLabel"in a?(a.options.map(x=>E(x)),S(a.options,a.groupLabel,f)):E(a))})};try{$.displayName="DropdownMenu",$.__docgenInfo={description:"",displayName:"DropdownMenu",props:{className:{defaultValue:null,description:"Additional classname",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"Additional styles",name:"style",required:!1,type:{name:"CSSProperties"}},onMouseEnter:{defaultValue:null,description:"Function triggered when the mouse pointer hovering the menu",name:"onMouseEnter",required:!1,type:{name:"(event: MouseEvent<HTMLDivElement, MouseEvent>) => void"}},onMouseLeave:{defaultValue:null,description:"Function triggered when the mouse pointer move off the menu",name:"onMouseLeave",required:!1,type:{name:"(event: MouseEvent<HTMLDivElement, MouseEvent>) => void"}},hasSearch:{defaultValue:null,description:`Whether the Menu displays a search input at the top
Autosearch is enabled if undefined
Autosearch is when search input is automatically added in the dropdown when autoAddSearchLimit is reached
@see autoAddSearchLimit`,name:"hasSearch",required:!1,type:{name:"boolean"}},autoAddSearchLimit:{defaultValue:null,description:`Autosearch is triggered when data items exceed this limit
Applies only when autosearch is enabled (i.e. hasSearch is undefined)
Defaults to 7 if undefined or < 0
Autosearch is when search input is automatically added in the dropdown`,name:"autoAddSearchLimit",required:!1,type:{name:"number"}},searchEmptyText:{defaultValue:null,description:"Text to display when the search doesn't show any results",name:"searchEmptyText",required:!1,type:{name:"string"}},maxHeight:{defaultValue:null,description:"Maximum height of the Menu",name:"maxHeight",required:!1,type:{name:"string"}},maxWidth:{defaultValue:null,description:"Maximum width of the Menu",name:"maxWidth",required:!1,type:{name:"string"}},minWidth:{defaultValue:null,description:"Minimum width of the Menu",name:"minWidth",required:!1,type:{name:"string"}},isDisplayed:{defaultValue:null,description:"Menu is display",name:"isDisplayed",required:!0,type:{name:"boolean"}},anchorEl:{defaultValue:null,description:"Reference element to positioning the menu",name:"anchorEl",required:!1,type:{name:"MutableRefObject<HTMLDivElement>"}},anchorPosition:{defaultValue:null,description:"Position of the menu in px relative to anchorEl or the document",name:"anchorPosition",required:!1,type:{name:"AnchorPosition"}},anchorElOrigin:{defaultValue:null,description:"Point on the anchor where the menu's anchorEl will attach to",name:"anchorElOrigin",required:!1,type:{name:"AnchorElOrigin"}},transformElOrigin:{defaultValue:null,description:"This is the point on the menu which will attach to the anchor's origin",name:"transformElOrigin",required:!1,type:{name:"TransformElOrigin"}},position:{defaultValue:null,description:`If 'absolute' is passed in for the position, the component will be positioned as per normal
CSS rules (i.e., positioned against the closest positioned ancestor). Position is 'fixed' by default`,name:"position",required:!1,type:{name:"enum",value:[{value:'"fixed"'},{value:'"absolute"'}]}},onClose:{defaultValue:null,description:"Function triggered when the menu close",name:"onClose",required:!1,type:{name:"(event: MouseEvent<HTMLDivElement, MouseEvent>) => void"}},onEntering:{defaultValue:null,description:"Function triggered when the menu is going to be opened (before open)",name:"onEntering",required:!1,type:{name:"() => void"}},onEntered:{defaultValue:null,description:"Function triggered when the menu has been opened (after open)",name:"onEntered",required:!1,type:{name:"() => void"}},onExiting:{defaultValue:null,description:"Function triggered when the menu is going to be closed (before exit)",name:"onExiting",required:!1,type:{name:"() => void"}},onExited:{defaultValue:null,description:"Function triggered when the menu has been closed (after exit)",name:"onExited",required:!1,type:{name:"() => void"}},hasOverlay:{defaultValue:null,description:"The menu has overlay or not",name:"hasOverlay",required:!1,type:{name:"boolean"}},searchInput:{defaultValue:null,description:"",name:"searchInput",required:!1,type:{name:"string"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"DropdownData"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},values:{defaultValue:null,description:"",name:"values",required:!1,type:{name:"string[]"}},imageSize:{defaultValue:null,description:"",name:"imageSize",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"big"'}]}},handleSelect:{defaultValue:null,description:"",name:"handleSelect",required:!0,type:{name:"(e?: KeyboardEvent<Element> | MouseEvent<Element, MouseEvent>, item?: DropdownDataOption) => void"}},handleKeyPress:{defaultValue:null,description:"",name:"handleKeyPress",required:!0,type:{name:"(e?: KeyboardEvent<Element>, item?: DropdownDataOption) => void"}}}}}catch{}function Q(t,e,n){const o=[];return e.forEach(d=>{const u=we(t,d,n);u&&o.push(u)}),o}const we=(t,e,n)=>{const o=t(e),d=[];if(e.children){const u=Q(t,e.children,n);u.length>0&&(d.push(...u),n.push(e.id))}if(o||d.length>0)return{...e,treeItemProps:{className:D({"moonstone-disabled":!o})},isDisabled:!o,children:d}},H=(t,e,n)=>{if(t(e))return e;if(e.children){const o=e.children.reduce((d,u)=>d||H(t,u,n),null);return o&&n&&n.push(e.id),o}},Ee=t=>{const e=[],n=o=>{e.push(o),o.children&&o.children.forEach(n)};return t?.forEach?.(n),e},xe={horizontal:"left",vertical:"bottom"},be={vertical:"top",horizontal:"left"},Ve={top:0,left:0},z=({isDisplayed:t,minWidth:e,maxWidth:n,maxHeight:o,anchorEl:d=null,anchorElOrigin:u=xe,transformElOrigin:m=be,anchorPosition:v=Ve,position:A="fixed",hasOverlay:b=!0,hasSearch:g,autoAddSearchLimit:T=7,treeData:h,value:C,values:V,handleSelect:M,onClose:E})=>{const[S,a]=re(t,v,d,u,m,A),[f,x]=w.useState(""),[q,_]=w.useState([]),y=r=>{_(c=>[...c,r.id])},N=r=>{_(c=>c.filter(p=>p!==r.id))},O=[],L=[];f!==""&&(h=Q(r=>r.label.toLowerCase().includes(f.toLowerCase()),h,O)),C&&h.forEach(r=>{const c=H(p=>p.value===C,r,O);c&&L.push(c.id)}),V&&V.forEach(r=>{h.forEach(c=>{const p=H(I=>I.value===r,c,O);p&&L.push(p.id)})});const j={position:A,...S};e&&(j.minWidth=e),n&&(j.maxWidth=n),o&&(j.maxHeight=o);let P=g;return typeof g>"u"&&(P=Ee(h)?.length>T),l.jsxs(l.Fragment,{children:[l.jsxs("menu",{ref:a,className:"moonstone-menu",style:j,children:[P&&l.jsx("div",{className:"moonstone-menu_searchInput",children:l.jsx(se,{value:f,onChange:r=>x(r.target.value),onKeyUp:r=>{if(r.key==="Enter"&&h.length>0){const c=H(p=>!p.isDisabled,h[0]);c&&M(r,c)}},onClear:()=>x("")})}),l.jsx(ue,{data:h,selectedItems:L,size:"small",showCheckbox:!!V,openedItems:[...q,...O],onOpenItem:y,onCloseItem:N,onClickItem:(r,c)=>{M(c,r)}})]}),b&&t&&l.jsx("div",{"aria-hidden":"true",className:"moonstone-menu_overlay",onClick:E,onContextMenu:E})]})};z.displayName="TreeViewMenu";try{z.displayName="TreeViewMenu",z.__docgenInfo={description:"",displayName:"TreeViewMenu",props:{className:{defaultValue:null,description:"Additional classname",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"Additional styles",name:"style",required:!1,type:{name:"CSSProperties"}},onMouseEnter:{defaultValue:null,description:"Function triggered when the mouse pointer hovering the menu",name:"onMouseEnter",required:!1,type:{name:"(event: MouseEvent<HTMLDivElement, MouseEvent>) => void"}},onMouseLeave:{defaultValue:null,description:"Function triggered when the mouse pointer move off the menu",name:"onMouseLeave",required:!1,type:{name:"(event: MouseEvent<HTMLDivElement, MouseEvent>) => void"}},hasSearch:{defaultValue:null,description:`Whether the Menu displays a search input at the top
Autosearch is enabled if undefined
Autosearch is when search input is automatically added in the dropdown when autoAddSearchLimit is reached
@see autoAddSearchLimit`,name:"hasSearch",required:!1,type:{name:"boolean"}},autoAddSearchLimit:{defaultValue:{value:"7"},description:`Autosearch is triggered when data items exceed this limit
Applies only when autosearch is enabled (i.e. hasSearch is undefined)
Defaults to 7 if undefined or < 0
Autosearch is when search input is automatically added in the dropdown`,name:"autoAddSearchLimit",required:!1,type:{name:"number"}},searchEmptyText:{defaultValue:null,description:"Text to display when the search doesn't show any results",name:"searchEmptyText",required:!1,type:{name:"string"}},maxHeight:{defaultValue:null,description:"Maximum height of the Menu",name:"maxHeight",required:!1,type:{name:"string"}},maxWidth:{defaultValue:null,description:"Maximum width of the Menu",name:"maxWidth",required:!1,type:{name:"string"}},minWidth:{defaultValue:null,description:"Minimum width of the Menu",name:"minWidth",required:!1,type:{name:"string"}},isDisplayed:{defaultValue:null,description:"Menu is display",name:"isDisplayed",required:!0,type:{name:"boolean"}},anchorEl:{defaultValue:{value:"null"},description:"Reference element to positioning the menu",name:"anchorEl",required:!1,type:{name:"MutableRefObject<HTMLDivElement>"}},anchorPosition:{defaultValue:{value:`{
    top: 0,
    left: 0
}as const`},description:"Position of the menu in px relative to anchorEl or the document",name:"anchorPosition",required:!1,type:{name:"AnchorPosition"}},anchorElOrigin:{defaultValue:{value:`{
    horizontal: 'left',
    vertical: 'bottom'
}as const`},description:"Point on the anchor where the menu's anchorEl will attach to",name:"anchorElOrigin",required:!1,type:{name:"AnchorElOrigin"}},transformElOrigin:{defaultValue:{value:`{
    vertical: 'top',
    horizontal: 'left'
}as const`},description:"This is the point on the menu which will attach to the anchor's origin",name:"transformElOrigin",required:!1,type:{name:"TransformElOrigin"}},position:{defaultValue:{value:"fixed"},description:`If 'absolute' is passed in for the position, the component will be positioned as per normal
CSS rules (i.e., positioned against the closest positioned ancestor). Position is 'fixed' by default`,name:"position",required:!1,type:{name:"enum",value:[{value:'"fixed"'},{value:'"absolute"'}]}},onClose:{defaultValue:null,description:"Function triggered when the menu close",name:"onClose",required:!1,type:{name:"(event: MouseEvent<HTMLDivElement, MouseEvent>) => void"}},onEntering:{defaultValue:null,description:"Function triggered when the menu is going to be opened (before open)",name:"onEntering",required:!1,type:{name:"() => void"}},onEntered:{defaultValue:null,description:"Function triggered when the menu has been opened (after open)",name:"onEntered",required:!1,type:{name:"() => void"}},onExiting:{defaultValue:null,description:"Function triggered when the menu is going to be closed (before exit)",name:"onExiting",required:!1,type:{name:"() => void"}},onExited:{defaultValue:null,description:"Function triggered when the menu has been closed (after exit)",name:"onExited",required:!1,type:{name:"() => void"}},hasOverlay:{defaultValue:{value:"true"},description:"The menu has overlay or not",name:"hasOverlay",required:!1,type:{name:"boolean"}},treeData:{defaultValue:null,description:"Data to generate the tree",name:"treeData",required:!0,type:{name:"TreeViewData[]"}},searchInput:{defaultValue:null,description:"",name:"searchInput",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},values:{defaultValue:null,description:"",name:"values",required:!1,type:{name:"string[]"}},imageSize:{defaultValue:null,description:"",name:"imageSize",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"big"'}]}},handleSelect:{defaultValue:null,description:"",name:"handleSelect",required:!0,type:{name:"(e?: KeyboardEvent<Element> | MouseEvent<Element, MouseEvent>, item?: DropdownDataOption) => void"}},handleKeyPress:{defaultValue:null,description:"",name:"handleKeyPress",required:!1,type:{name:"(e?: KeyboardEvent<Element>, item?: DropdownDataOption) => void"}}}}}catch{}export{B as D};

import{j as l}from"./jsx-runtime-Cf8x2fCZ.js";import{R as p,r as P}from"./index-G8LIXM5I.js";import{c as m}from"./clsx-B-dksMZM.js";import{o as G}from"./onArrowNavigation-DJ1kLiB7.js";import{S as Q}from"./ChevronDown-DW4Cg-no.js";import{S as Y}from"./ChevronRight-CtX5Dnjk.js";import{S as Z,a as ee}from"./CheckboxUnchecked-CIfxf0rQ.js";import{L as te}from"./Loader-DsiRlRl8.js";import{T as ne}from"./Typography-CgHbMZIy.js";const oe=t=>typeof t=="function",M=(...t)=>{const i={},a={};return t.forEach(r=>{Object.entries(r).forEach(([o,n])=>{o.startsWith("on")&&oe(n)?(a[o]||(a[o]=[]),a[o].push(n)):i[o]=n})}),Object.entries(a).forEach(([r,o])=>{o.length===1?i[r]=o[0]:o.length>1&&(i[r]=n=>{for(const s of o)if(s(n),n.defaultPrevented)break})}),i};try{M.displayName="mergeHandlers",M.__docgenInfo={description:"",displayName:"mergeHandlers",props:{}}}catch{}const ae=(t,i,a=!1,r=0)=>({onKeyUp:n=>{n.code==="Space"&&t(n),n.code==="Enter"&&(n.preventDefault(),i&&!a?i(n):t(n)),n.code==="ArrowLeft"&&t(n),n.code==="ArrowRight"&&t(n)},disabled:a,tabIndex:r}),B=(t,i,a,r=!1)=>{if(!(!t&&!r))return l.jsx("i",{className:m("flexRow","alignCenter",a),children:t&&l.jsx(t.type,{"aria-label":t.type.name||"moonstone-treeView-icon",...t.props,size:i,className:m(`moonstone-icon_${i}`,t.props.className)})})},ie=({data:t,openedItems:i=[],selectedItems:a=[],highlightedItems:r=[],showCheckbox:o=!1,onClickItem:n,onDoubleClickItem:s,onContextMenuItem:h,onOpenItem:v,onCloseItem:u,isReversed:c=!1,component:T="ul",itemComponent:U="li",size:y="default",isPadVirtualizedRow:L=!1,...W},F)=>{const k=t.filter(V=>V.children&&V.children.length>0).length===0,D=P.useRef(new Map);function R(V,f,A){return V.map(e=>{var z;let g=D.current.get(e.id);g||(g=p.createRef(),D.current.set(e.id,g));const q=!!(e.hasChildren||e.children&&e.children.length!==0),H=!!e.iconStart,K=!!e.iconEnd,w=e.isClosable!==!1,E=!!i.includes(e.id)||!w,N=!!e.isLoading,I=!!a.includes(e.id),S=!!(r.includes(e.id)&&!I),j=!e.isDisabled&&!e.isReadonly,b=d=>{v&&u&&(E?u(e,d):v(e,d))},O=d=>{n?n(e,d,b):b(d)},$=d=>{s&&s(e,d)},J=d=>{h&&h(e,d)},X=m("flexRow_between","alignCenter","moonstone-treeView_item",{"moonstone-small":y==="small","moonstone-selected":I&&!o,"moonstone-highlighted":S,"moonstone-reversed":c,"moonstone-readonly":e.isReadonly,"moonstone-disabled":e.isDisabled});return[p.createElement(U,{ref:g,role:"treeitem","aria-selected":I,"aria-expanded":q?E:null,"aria-busy":N,"aria-current":S?"page":null,"aria-level":f+1,key:`${f}-${e.id}`,style:{"--treeItem-depth":f,...(z=e==null?void 0:e.treeItemProps)==null?void 0:z.style},onDoubleClick:$,onContextMenu:J,...M(G({ref:g}),ae(b,O,!j)),...e.treeItemProps},l.jsxs("div",{className:X,children:[w&&q&&l.jsx("div",{className:m("flexRow","alignCenter","moonstone-treeView_itemToggle"),"data-testid":"treeitem-toggle-icon",onClick:b,children:N?l.jsx(te,{isReversed:c,size:"small"}):E?l.jsx(Q,{size:y}):l.jsx(Y,{size:y})}),!k&&!q&&l.jsx("div",{className:m("flexRow","alignCenter","moonstone-treeView_itemToggle")}),L&&k&&!w&&l.jsx("div",{className:m("flexRow","alignCenter","moonstone-treeView_itemToggle")}),l.jsxs("div",{className:m("flexRow_nowrap","alignCenter","flexFluid","moonstone-treeView_itemLabel",e.className),onClick:j?O:void 0,children:[o?I?l.jsx(Z,{className:"moonstone-treeView_itemIconStart",role:"checkbox",color:"blue","aria-checked":"true"}):l.jsx(ee,{className:"moonstone-treeView_itemIconStart",role:"checkbox","aria-checked":"false"}):B(e.iconStart,"small","moonstone-treeView_itemIconStart",A),l.jsx(ne,{isNowrap:!0,className:m("flexFluid"),component:"span",variant:y==="default"?"body":"caption",...e.typographyOptions,children:e.label}),K&&B(e.iconEnd,"small")]})]})),...E&&e.children?R(e.children,w?f+1:f,H):[]]})}return p.createElement(T,{ref:F,role:"tree","aria-multiselectable":o,...W},R(t,0,!1))},C=p.forwardRef(ie);try{C.displayName="ControlledTreeView",C.__docgenInfo={description:"",displayName:"ControlledTreeView",props:{data:{defaultValue:null,description:"Data to generate the tree",name:"data",required:!0,type:{name:"TreeViewData[]"}},selectedItems:{defaultValue:{value:"[]"},description:"Selected items' ids",name:"selectedItems",required:!1,type:{name:"string[]"}},highlightedItems:{defaultValue:{value:"[]"},description:"IDs of the highlighted items",name:"highlightedItems",required:!1,type:{name:"string[]"}},showCheckbox:{defaultValue:{value:"false"},description:"Show checkbox for selected items",name:"showCheckbox",required:!1,type:{name:"boolean"}},onClickItem:{defaultValue:null,description:`Trigger by clicking on node.
In the parameters, access to the current node, event, and a method to toggle the node open/close is given.`,name:"onClickItem",required:!1,type:{name:"(node: TreeViewData, e?: MouseEvent<Element, MouseEvent>, toggleNode?: (e: MouseEvent<Element, MouseEvent>) => void) => void"}},onDoubleClickItem:{defaultValue:null,description:"Trigger by double clicking on node",name:"onDoubleClickItem",required:!1,type:{name:"(node: TreeViewData, e?: MouseEvent<Element, MouseEvent>) => void"}},onContextMenuItem:{defaultValue:null,description:"Trigger by right clicking on node",name:"onContextMenuItem",required:!1,type:{name:"(node: TreeViewData, e?: MouseEvent<Element, MouseEvent>) => void"}},isReversed:{defaultValue:{value:"false"},description:"Whether the component should use reversed colors, it useful with dark background",name:"isReversed",required:!1,type:{name:"boolean"}},component:{defaultValue:{value:"ul"},description:"Component used for the list (ul)",name:"component",required:!1,type:{name:"string"}},itemComponent:{defaultValue:{value:"li"},description:"Component used for every item (li)",name:"itemComponent",required:!1,type:{name:"string"}},size:{defaultValue:{value:"default"},description:"TreeView row sizes",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"default"'}]}},isPadVirtualizedRow:{defaultValue:{value:"false"},description:"When using virtualization row may require padding if they become detached from its parent",name:"isPadVirtualizedRow",required:!1,type:{name:"boolean"}},openedItems:{defaultValue:{value:"[]"},description:"Opened items ids. If set, component is controlled",name:"openedItems",required:!1,type:{name:"string[]"}},onOpenItem:{defaultValue:null,description:"Trigger on opening node",name:"onOpenItem",required:!0,type:{name:"(node: TreeViewData, e?: MouseEvent<Element, MouseEvent>) => void"}},onCloseItem:{defaultValue:null,description:"Trigger on opening node",name:"onCloseItem",required:!0,type:{name:"(node: TreeViewData, e?: MouseEvent<Element, MouseEvent>) => void"}}}}}catch{}const le=({defaultOpenedItems:t=[],onCloseItem:i,onOpenItem:a,...r},o)=>{const[n,s]=P.useState(t),h=u=>{s(c=>[...c,u.id]),typeof a<"u"&&a(u)},v=u=>{s(c=>c.filter(T=>T!==u.id)),typeof i<"u"&&i(u)};return l.jsx(C,{ref:o,openedItems:n,onOpenItem:h,onCloseItem:v,...r})},x=p.forwardRef(le);try{x.displayName="UncontrolledTreeView",x.__docgenInfo={description:"",displayName:"UncontrolledTreeView",props:{data:{defaultValue:null,description:"Data to generate the tree",name:"data",required:!0,type:{name:"TreeViewData[]"}},selectedItems:{defaultValue:null,description:"Selected items' ids",name:"selectedItems",required:!1,type:{name:"string[]"}},highlightedItems:{defaultValue:null,description:"IDs of the highlighted items",name:"highlightedItems",required:!1,type:{name:"string[]"}},showCheckbox:{defaultValue:null,description:"Show checkbox for selected items",name:"showCheckbox",required:!1,type:{name:"boolean"}},onClickItem:{defaultValue:null,description:`Trigger by clicking on node.
In the parameters, access to the current node, event, and a method to toggle the node open/close is given.`,name:"onClickItem",required:!1,type:{name:"(node: TreeViewData, e?: MouseEvent<Element, MouseEvent>, toggleNode?: (e: MouseEvent<Element, MouseEvent>) => void) => void"}},onDoubleClickItem:{defaultValue:null,description:"Trigger by double clicking on node",name:"onDoubleClickItem",required:!1,type:{name:"(node: TreeViewData, e?: MouseEvent<Element, MouseEvent>) => void"}},onContextMenuItem:{defaultValue:null,description:"Trigger by right clicking on node",name:"onContextMenuItem",required:!1,type:{name:"(node: TreeViewData, e?: MouseEvent<Element, MouseEvent>) => void"}},isReversed:{defaultValue:null,description:"Whether the component should use reversed colors, it useful with dark background",name:"isReversed",required:!1,type:{name:"boolean"}},component:{defaultValue:null,description:"Component used for the list (ul)",name:"component",required:!1,type:{name:"string"}},itemComponent:{defaultValue:null,description:"Component used for every item (li)",name:"itemComponent",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"TreeView row sizes",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"default"'}]}},isPadVirtualizedRow:{defaultValue:null,description:"When using virtualization row may require padding if they become detached from its parent",name:"isPadVirtualizedRow",required:!1,type:{name:"boolean"}},defaultOpenedItems:{defaultValue:{value:"[]"},description:"Opened items ids by default, when uncontrolled",name:"defaultOpenedItems",required:!1,type:{name:"string[]"}},onOpenItem:{defaultValue:null,description:"Trigger on opening node",name:"onOpenItem",required:!1,type:{name:"(node: TreeViewData, e?: MouseEvent<Element, MouseEvent>) => void"}},onCloseItem:{defaultValue:null,description:"Trigger on opening node",name:"onCloseItem",required:!1,type:{name:"(node: TreeViewData, e?: MouseEvent<Element, MouseEvent>) => void"}}}}}catch{}const re=({openedItems:t,defaultOpenedItems:i,data:a,onOpenItem:r,onCloseItem:o,...n},s)=>!Array.isArray(a)||a.length<1?null:typeof t>"u"?l.jsx(x,{defaultOpenedItems:i,data:a,onOpenItem:r,onCloseItem:o,...n}):l.jsx(C,{ref:s,openedItems:t,data:a,onOpenItem:r,onCloseItem:o,...n}),_=p.forwardRef(re);_.displayName="TreeView";try{_.displayName="TreeView",_.__docgenInfo={description:"",displayName:"TreeView",props:{data:{defaultValue:null,description:"Data to generate the tree",name:"data",required:!0,type:{name:"TreeViewData[]"}},selectedItems:{defaultValue:null,description:"Selected items' ids",name:"selectedItems",required:!1,type:{name:"string[]"}},highlightedItems:{defaultValue:null,description:"IDs of the highlighted items",name:"highlightedItems",required:!1,type:{name:"string[]"}},showCheckbox:{defaultValue:null,description:"Show checkbox for selected items",name:"showCheckbox",required:!1,type:{name:"boolean"}},onClickItem:{defaultValue:null,description:`Trigger by clicking on node.
In the parameters, access to the current node, event, and a method to toggle the node open/close is given.`,name:"onClickItem",required:!1,type:{name:"(node: TreeViewData, e?: MouseEvent<Element, MouseEvent>, toggleNode?: (e: MouseEvent<Element, MouseEvent>) => void) => void"}},onDoubleClickItem:{defaultValue:null,description:"Trigger by double clicking on node",name:"onDoubleClickItem",required:!1,type:{name:"(node: TreeViewData, e?: MouseEvent<Element, MouseEvent>) => void"}},onContextMenuItem:{defaultValue:null,description:"Trigger by right clicking on node",name:"onContextMenuItem",required:!1,type:{name:"(node: TreeViewData, e?: MouseEvent<Element, MouseEvent>) => void"}},isReversed:{defaultValue:null,description:"Whether the component should use reversed colors, it useful with dark background",name:"isReversed",required:!1,type:{name:"boolean"}},component:{defaultValue:null,description:"Component used for the list (ul)",name:"component",required:!1,type:{name:"string"}},itemComponent:{defaultValue:null,description:"Component used for every item (li)",name:"itemComponent",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"TreeView row sizes",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"default"'}]}},isPadVirtualizedRow:{defaultValue:null,description:"When using virtualization row may require padding if they become detached from its parent",name:"isPadVirtualizedRow",required:!1,type:{name:"boolean"}},openedItems:{defaultValue:null,description:"Opened items ids. If set, component is controlled",name:"openedItems",required:!1,type:{name:"string[]"}},onOpenItem:{defaultValue:null,description:"Trigger on opening node",name:"onOpenItem",required:!1,type:{name:"((node: TreeViewData, e?: MouseEvent<Element, MouseEvent>) => void) & ((node: TreeViewData, e?: MouseEvent<Element, MouseEvent>) => void)"}},onCloseItem:{defaultValue:null,description:"Trigger on opening node",name:"onCloseItem",required:!1,type:{name:"((node: TreeViewData, e?: MouseEvent<Element, MouseEvent>) => void) & ((node: TreeViewData, e?: MouseEvent<Element, MouseEvent>) => void)"}},defaultOpenedItems:{defaultValue:null,description:"Opened items ids by default, when uncontrolled",name:"defaultOpenedItems",required:!1,type:{name:"string[]"}}}}}catch{}export{_ as T};
